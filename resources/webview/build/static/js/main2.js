(this["webpackJsonpreact-app"]=this["webpackJsonpreact-app"]||[]).push([[0],{188:function(e,t,a){e.exports=a(353)},190:function(e,t,a){},195:function(e,t,a){},197:function(e,t,a){},198:function(e,t,a){},250:function(e,t,a){},260:function(e,t,a){},346:function(e,t,a){},347:function(e,t,a){},349:function(e,t,a){},350:function(e,t,a){},351:function(e,t,a){},352:function(e,t,a){},353:function(e,t,a){"use strict";a.r(t);a(189),a(190);var n=a(0),s=a.n(n),r=a(8),o=a.n(r);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var c=a(22),i=a(16),l=(a(195),a(357)),u=a(183),m=a(9),d=a(11),h=a.n(d),p=a(13),f=a(23),g=a(29),v=a(30),y=a(33),E=a(31),b=a(34),w=a(99),S=(a(197),a(12)),k=a.n(S),C={postMessage:console.log};try{C=acquireVsCodeApi()}catch(mt){}var x={};function O(e){var t=e.fnName,a=e.region,n=e.awsProfile;return new Promise((function(e){var s=Math.random();C.postMessage({command:"getLambdaOverview",messageId:s,payload:{fnName:t,region:a,awsProfile:n}}),x[s]=function(t){t.error?e({overviewProps:{},error:t.error}):e({overviewProps:t})}}))}function N(e){var t=e.logGroupName,a=e.nextToken,n=e.limit,s=e.region,r=e.awsProfile;return new Promise((function(e){var o=Math.random();C.postMessage({command:"getLogStreams",messageId:o,payload:{nextToken:a,limit:n,logGroupName:t,region:s,awsProfile:r}}),x[o]=function(t){t.ignore?e({logStreams:[],nextToken:a,timestamp:Date.now()}):t.error?e({logStreams:[],error:t.error,timestamp:Date.now()}):e({nextToken:t.nextToken,logStreams:t.logStreams,timestamp:Date.now()})}}))}function j(e){return new Promise((function(t,a){var n=Math.random();C.postMessage({command:"getLogEvents",messageId:n,payload:{nextToken:e.nextToken,logGroup:e.logGroup,logStream:e.logStream,region:e.region,awsProfile:e.awsProfile}}),x[n]=function(e){e.ignore?a({ignore:!0}):e.error?a(e.error):t({nextBackwardToken:e.nextBackwardToken,nextForwardToken:e.nextForwardToken,logEvents:e.logEvents})}}))}function R(e){return new Promise((function(t,a){var n=Math.random();C.postMessage({command:"addService",messageId:n,payload:e}),x[n]=function(e){e.error?a({message:e.error}):t()}}))}function T(e){return new Promise((function(t,a){var n=Math.random();C.postMessage({command:"startQuery",messageId:n,payload:e}),x[n]=function(e){e.error?a(e.error):t(e)}}))}function M(e){return new Promise((function(t,a){var n=Math.random();C.postMessage({command:"stopQuery",messageId:n,payload:e}),x[n]=function(e){e.error?a(e.error):t(e)}}))}function I(e){return new Promise((function(t,a){var n=Math.random();C.postMessage({command:"getQueryResults",messageId:n,payload:e}),x[n]=function(e){e.error?a({status:"Error",message:e.error,results:[]}):t(Object(p.a)({},e,{results:e.results.map((function(e){return e.reduce((function(e,t){return e[t.field]=t.value,e}),{})})).map((function(e){var t=6e4*(new Date).getTimezoneOffset();return{timestamp:k()(e["@timestamp"]).toDate().getTime()-t,messageShort:e["@message"].slice(0,500),messageLong:e["@message"],logStream:e["@logStream"]}}))}))}}))}function P(e){C.postMessage({command:"viewstateChanged",payload:e})}window.addEventListener("message",(function(e){var t=e.data;x[t.messageId]&&(x[t.messageId](t.payload),delete x[t.messageId])}));var F=a(358),L=a(131),K=a.n(L),q=(a(198),a(362)),D=a(171),B=a(85),Q=a.n(B),A=a(44);q.a.registerLanguage("json",D.a);var z=function(e){function t(e){var a;return Object(g.a)(this,t),(a=Object(y.a)(this,Object(E.a)(t).call(this,e))).state={copyStr:"copy JSON to clipboard",searched:!1,loaded:!1},a.myRef=void 0,a.myRef=s.a.createRef(),a}return Object(b.a)(t,e),Object(v.a)(t,[{key:"componentDidMount",value:function(){var e=this;setTimeout((function(){e.setState({loaded:!0})}),0)}},{key:"componentDidUpdate",value:function(){var e=this;if(this.props.search){!1===this.state.searched&&this.setState({searched:!0});var t=new K.a(this.myRef.current);t.unmark({done:function(){t.mark(e.props.search,{acrossElements:!0,separateWordSearch:!1})}})}else if(this.state.searched){new K.a(this.myRef.current).unmark()}}},{key:"renderWithJson",value:function(e){var t=this,a=function(e){var t=e.match(/{[\s\S]*}/);if(t)try{var a=JSON.parse(t[0]),n=e.split(t[0]);return[n[0],JSON.stringify(a,null,2),n[1]]}catch(mt){return!1}return!1}(e);return a?s.a.createElement("div",{className:"logevent-longmessage"},s.a.createElement("div",null,a[0]),s.a.createElement("div",{className:"code-wrapper"},s.a.createElement(A.a,{size:"small",onClick:function(e){e.currentTarget.blur(),Q()(a[1]),t.setState({copyStr:"copied"}),setTimeout((function(){t.setState({copyStr:"copy JSON to clipboard"})}),1e3)}},this.state.copyStr),s.a.createElement(q.a,{className:"syntax-highlighter",useInlineStyles:!1,language:"json",showLineNumbers:!0},a[1])),s.a.createElement("div",null,a[2])):s.a.createElement("div",{className:"logevent-longmessage"},e)}},{key:"render",value:function(){return s.a.createElement("div",{ref:this.myRef},this.state.loaded?this.renderWithJson(this.props.message):s.a.createElement("div",null,"loading"))}}]),t}(s.a.Component);var H=function(e){function t(){var e,a;Object(g.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(y.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(s)))).state={ping:0,message:""},a._intervalRef=void 0,a}return Object(b.a)(t,e),Object(v.a)(t,[{key:"initInterval",value:function(){var e=this,t=this.props.interval&&this.props.interval>500?this.props.interval:1e4;this._intervalRef=setInterval((function(){if(t<=5e3){var a=Math.round((Date.now()-e.props.time)/1e3);e.setState({ping:Date.now(),message:a<10&&"".concat(a," seconds ago")})}else e.setState({ping:Date.now()})}),t)}},{key:"componentDidMount",value:function(){this.initInterval()}},{key:"componentDidUpdate",value:function(e){e.interval!==this.props.interval&&this.initInterval()}},{key:"componentWillUnmount",value:function(){clearInterval(this._intervalRef)}},{key:"render",value:function(){return s.a.createElement("span",{className:this.props.className},this.state.message||k()(this.props.time).fromNow())}}]),t}(s.a.Component),W=F.a.Panel,_=function(e){function t(e){var a;return Object(g.a)(this,t),(a=Object(y.a)(this,Object(E.a)(t).call(this,Object(p.a)({},e,{search:e.search||""})))).state=void 0,a._intervalRef=void 0,a.state={loaded:!1,preparedMessages:[],messages:[]},a}return Object(b.a)(t,e),Object(v.a)(t,[{key:"componentDidMount",value:function(){var e=Object(f.a)(h.a.mark((function e(){var t,a,n,s;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j({logGroup:this.props.logGroup,logStream:this.props.logStream,region:this.props.region,awsProfile:this.props.awsProfile});case 3:t=e.sent,a=t.logEvents,n=t.nextBackwardToken,s=t.nextForwardToken,this.setState({error:null,loaded:!0,nextBackwardToken:n,nextForwardToken:s,messages:a.map((function(e,t){return{timestamp:e.timestamp,messageShort:e.message.slice(0,500),messageLong:e.message}})),preparedMessages:G(a.map((function(e,t){return{timestamp:e.timestamp,messageShort:e.message.slice(0,500),messageLong:e.message}})),this.props.groupPerRequest,this.props.search)}),e.next=16;break;case 10:if(e.prev=10,e.t0=e.catch(0),!e.t0.ignore){e.next=14;break}return e.abrupt("return",this.setState({loaded:!0}));case 14:this.setState({loaded:!0,error:e.t0}),console.error(e.t0);case 16:case"end":return e.stop()}}),e,this,[[0,10]])})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(e){e.search===this.props.search&&e.groupPerRequest===this.props.groupPerRequest||this.setState({preparedMessages:G(this.state.messages,this.props.groupPerRequest,this.props.search)})}},{key:"onRetryNew",value:function(){var e=Object(f.a)(h.a.mark((function e(){var t,a,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loadingNew:!0}),e.prev=1,e.next=4,j({logGroup:this.props.logGroup,logStream:this.props.logStream,nextToken:this.state.nextForwardToken,region:this.props.region,awsProfile:this.props.awsProfile});case 4:t=e.sent,a=t.logEvents,n=t.nextForwardToken,this.setState({loadingNew:!1,error:null,messages:[].concat(Object(c.a)(this.state.messages),Object(c.a)(a.map((function(e,t){return{timestamp:e.timestamp,messageShort:e.message.slice(0,500),messageLong:e.message}})))),preparedMessages:G([].concat(Object(c.a)(this.state.messages),Object(c.a)(a.map((function(e,t){return{timestamp:e.timestamp,messageShort:e.message.slice(0,500),messageLong:e.message}})))),this.props.groupPerRequest,this.props.search),nextForwardToken:n}),e.next=16;break;case 10:if(e.prev=10,e.t0=e.catch(1),!e.t0.ignore){e.next=14;break}return e.abrupt("return",this.setState({loadingNew:!1}));case 14:this.setState({loadingNew:!1,error:e.t0}),console.error(e.t0);case 16:case"end":return e.stop()}}),e,this,[[1,10]])})));return function(){return e.apply(this,arguments)}}()},{key:"onRetryOld",value:function(){var e=Object(f.a)(h.a.mark((function e(){var t,a,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loadingOld:!0}),e.prev=1,e.next=4,j({logGroup:this.props.logGroup,logStream:this.props.logStream,nextToken:this.state.nextBackwardToken,region:this.props.region,awsProfile:this.props.awsProfile});case 4:t=e.sent,a=t.logEvents,n=t.nextBackwardToken,this.setState({loadingOld:!1,error:null,messages:[].concat(Object(c.a)(a.map((function(e,t){return{timestamp:e.timestamp,messageShort:e.message.slice(0,500),messageLong:e.message}}))),Object(c.a)(this.state.messages)),preparedMessages:G([].concat(Object(c.a)(a.map((function(e,t){return{timestamp:e.timestamp,messageShort:e.message.slice(0,500),messageLong:e.message}}))),Object(c.a)(this.state.messages)),this.props.groupPerRequest,this.props.search),nextBackwardToken:n}),e.next=16;break;case 10:if(e.prev=10,e.t0=e.catch(1),!e.t0.ignore){e.next=14;break}return e.abrupt("return",this.setState({loadingOld:!1}));case 14:this.setState({loadingOld:!1,error:e.t0}),console.error(e.t0);case 16:case"end":return e.stop()}}),e,this,[[1,10]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return this.state.loaded?[!0!==this.props.hideSearchAndLoadMore&&s.a.createElement("div",{className:"retry-message retry-message-old",key:"retryold"},this.state.loadingOld?"loading older events...":s.a.createElement("span",null,"No older events found at the moment.",s.a.createElement("span",{className:"spanlink retry-link",onClick:this.onRetryOld.bind(this)},"Retry"))),s.a.createElement(F.a,{key:"collapse",bordered:!1},this.state.preparedMessages.map((function(t){return s.a.createElement(W,{key:t.key,className:0===t.searchMatches?"blurforsearch":"",header:s.a.createElement("div",{className:"logevent-header"},s.a.createElement(H,{className:"relative-time",time:t.timestamp}),s.a.createElement("span",{className:"abs-time"},k()(t.timestamp).format("lll")),s.a.createElement("span",{className:"logevent-shortmessage"},t.searchMatches>0&&s.a.createElement("span",{className:"event-tag matches"},"matches: ",t.searchMatches),t.shortMessageMatched&&t.shortMessageMatched.length?t.shortMessageMatched.map((function(e){return s.a.createElement("span",{className:"event-tag"},e)})):t.messageShort))},t.messagesLong.map((function(t,a){return s.a.createElement(z,{key:a,message:t,search:e.props.search})})))}))),this.state.error?s.a.createElement("div",{className:"error"},this.state.error):null,!0!==this.props.hideSearchAndLoadMore&&s.a.createElement("div",{className:"retry-message retry-message-new",key:"retrynew"},this.state.loadingNew?"loading new events...":s.a.createElement("span",null,"No newer events found at the moment.",s.a.createElement("span",{className:"spanlink retry-link",onClick:this.onRetryNew.bind(this)},"Retry")))]:s.a.createElement("div",{className:"retry-message"},"loading new events...")}}]),t}(s.a.Component);function G(e,t,a){var n=[],s=e.map((function(e,t){var s="",r=e.messageLong.match(/START RequestId: ([a-zA-z0-9-]*)/),o=e.messageLong.match(/REPORT RequestId: ([a-zA-z0-9-]*)/),c=!0,i=!1,l=void 0;try{for(var u,m=n[Symbol.iterator]();!(c=(u=m.next()).done);c=!0){var d=u.value;if(e.messageShort.includes(d)){s=d;break}}}catch(mt){i=!0,l=mt}finally{try{c||null==m.return||m.return()}finally{if(i)throw l}}r&&(n.push(r[1]),s=r[1]);var h=[];if(o){s=o[1];var f=e.messageShort.match(/Duration: (.*?) ms/),g=e.messageShort.match(/Max Memory Used: (.*?) MB/),v=e.messageShort.match(/Init Duration: (.*?) ms/);v&&h.push("init: ".concat(v[1]," ms")),f&&h.push("".concat(f[1]," ms")),g&&h.push("".concat(g[1]," MB"))}var y=-1;if(a){var E=a.replace(/\s\s+/g," ").toLowerCase(),b=function(e){var t=e.match(/{[\s\S]*}/);if(t)try{var a=JSON.parse(t[0]),n=e.split(t[0]);return"".concat(n[0],"\n      ").concat(JSON.stringify(a,null,2),"\n      ").concat(n[1])}catch(mt){return e}return e}(e.messageLong).replace(/\s\s+/g," ").toLowerCase().match(new RegExp(E,"g"));y=b?b.length:0}var w="".concat(t,"-").concat(e.timestamp);return Object(p.a)({},e,{requestId:s||w,messagesLong:[e.messageLong],shortMessageMatched:h,searchMatches:y,index:t,key:w})}));if(!t)return s;var r=s.reduce((function(e,t){return e[t.requestId]?e[t.requestId].push(t):e[t.requestId]=[t],e}),{}),o=[];return Object.keys(r).forEach((function(e){var t,a=r[e],n=a.find((function(e){return e.shortMessageMatched.length}));n&&(t=n.shortMessageMatched),o.push({timestamp:a[0].timestamp,key:a[0].key,index:a[0].index,shortMessageMatched:t,searchMatches:a.reduce((function(e,t){return e+t.searchMatches}),0),messageShort:a[0].messageShort,messagesLong:a.map((function(e){return e.messageLong}))})})),o.sort((function(e,t){return e.index-t.index}))}var U=F.a.Panel,V=function(e){function t(){var e,a;Object(g.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(y.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(s))))._intervalRef=void 0,a.state={loadMoreInProgress:!1,loaded:!1,error:"",currentToken:"",nextToken:"",logStreams:[]},a.onRefresh=Object(f.a)(h.a.mark((function e(){var t,n,s,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.setState({refreshInProgres:!0}),e.next=3,N({logGroupName:a.props.tab.logs,limit:50,region:a.props.tab.region,awsProfile:a.props.tab.awsProfile});case 3:t=e.sent,n=t.logStreams,s=t.error,r=a.state.logStreams.filter((function(e){return!n.find((function(t){return t.arn===e.arn}))})),a.setState({error:s,logStreams:[].concat(Object(c.a)(r),Object(c.a)(n)),refreshInProgres:!1}),a.props.onRefreshed();case 9:case"end":return e.stop()}}),e)}))),a.onLoadMore=Object(f.a)(h.a.mark((function e(){var t,n,s,r,o;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.setState({loadMoreInProgress:!0}),e.next=3,N({logGroupName:a.props.tab.logs,region:a.props.tab.region,nextToken:a.state.nextToken,awsProfile:a.props.tab.awsProfile});case 3:t=e.sent,n=t.logStreams,s=t.nextToken,r=t.error,o=a.state.logStreams.filter((function(e){return!n.find((function(t){return t.arn===e.arn}))})),a.setState({error:r,loadMoreInProgress:!1,logStreams:[].concat(Object(c.a)(o),Object(c.a)(n)),nextToken:s});case 9:case"end":return e.stop()}}),e)}))),a}return Object(b.a)(t,e),Object(v.a)(t,[{key:"componentDidMount",value:function(){var e=Object(f.a)(h.a.mark((function e(){var t,a,n,s;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N({logGroupName:this.props.tab.logs,region:this.props.tab.region,awsProfile:this.props.tab.awsProfile});case 2:t=e.sent,a=t.logStreams,n=t.nextToken,s=t.error,this.setState({error:s,loaded:!0,logStreams:a,nextToken:n}),this.props.onRefreshed();case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(e){e.refreshTimestamp!==this.props.refreshTimestamp&&this.props.isActive&&this.onRefresh()}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"log-section"},this.state.loaded?s.a.createElement("div",null,s.a.createElement(F.a,{className:"logstreamslist"},this.state.error?s.a.createElement("div",{className:"foreground-color"},this.state.error):this.state.logStreams.sort((function(e,t){return t.sortByTimestamp-e.sortByTimestamp})).map((function(t,a){return s.a.createElement(U,{header:s.a.createElement("div",{className:"logstream"},s.a.createElement(H,{className:"relative-time",time:t.sortByTimestamp}),s.a.createElement("span",{className:"abs-time"},k()(t.sortByTimestamp).format("lll"))),key:t.arn},s.a.createElement(_,{logGroup:e.props.tab.logs,region:e.props.tab.region,awsProfile:e.props.tab.awsProfile,logStream:t.logStreamName,search:e.props.search,groupPerRequest:e.props.groupPerRequest}))}))),this.state.nextToken&&s.a.createElement("div",{className:" loadmore"},this.state.loadMoreInProgress?s.a.createElement("span",null,"loading..."):s.a.createElement("span",{className:"spanlink",onClick:this.onLoadMore},"Load more"))):s.a.createElement("div",null,"loading..."))}}]),t}(s.a.Component),J=a(182),Y=a(359),$=(a(250),a(361));function X(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(0===e)return"0 Bytes";var a=1024,n=t<0?0:t,s=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],r=Math.floor(Math.log(e)/Math.log(a));return parseFloat((e/Math.pow(a,r)).toFixed(n))+" "+s[r]}var Z=$.a.Item;function ee(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s.a.createElement("div",{className:"overview-section"},s.a.createElement($.a,{size:"default",column:{xxl:1,xl:1,lg:1,md:1,sm:1,xs:1},className:"overview-content"},s.a.createElement(Z,{label:"Name"},s.a.createElement(te,{value:e.name,type:"string"})),s.a.createElement(Z,{label:"Last Modified"},s.a.createElement(te,{value:e.lastModified,type:"relativeTime"})),s.a.createElement(Z,{label:"Runtime"},s.a.createElement(te,{value:e.runtime,type:"string"})),s.a.createElement(Z,{label:"Timeout"},s.a.createElement(te,{value:e.timeout,type:"seconds"})),s.a.createElement(Z,{label:"Memory Size"},s.a.createElement(te,{value:e.memorySize,type:"megabytes"})),s.a.createElement(Z,{label:"Code Size"},s.a.createElement(te,{value:e.codeSize,type:"bytes"}))))}function te(e){var t=e.value,a=e.type;if(!t)return s.a.createElement("span",null,"...");switch(a){case"string":return s.a.createElement("span",null,t);case"bytes":return s.a.createElement("span",null,X(parseInt(t)));case"relativeTime":return s.a.createElement(H,{time:t});case"seconds":return s.a.createElement("span",null,t," seconds");case"megabytes":return s.a.createElement("span",null,t," MB")}}var ae,ne,se=function(e){function t(){var e,a,n,s;Object(g.a)(this,t);for(var r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];return(s=Object(y.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(o)))).state={refreshInProgress:!1,overviewLoadInProgress:!1,oldRefreshTimestamp:Date.now(),newRefreshTimestamp:Date.now(),search:"",groupPerRequest:null===(a=document.vscodeData)||void 0===a?void 0:null===(n=a.settings)||void 0===n?void 0:n.groupPerRequest},s._timeout=void 0,s._inputRef=void 0,s}return Object(b.a)(t,e),Object(v.a)(t,[{key:"componentDidMount",value:function(){var e,t,a,n=this,s=(null===(e=navigator)||void 0===e?void 0:null===(t=e.platform)||void 0===t?void 0:null===(a=t.toUpperCase())||void 0===a?void 0:a.indexOf("MAC"))>=0?"command+f":"ctrl+f";Object(w.a)(s,(function(){var e;return null===(e=n._inputRef)||void 0===e||e.focus(),!1}))}},{key:"onRefreshed",value:function(){var e=this;this.setState({refreshInProgress:!1,oldRefreshTimestamp:Date.now()}),clearTimeout(this._timeout),this._timeout=setTimeout((function(){e.onAutoRefresh()}),this.props.autoRefreshInterval)}},{key:"componentDidUpdate",value:function(e){e.autoRefreshInterval===this.props.autoRefreshInterval&&e.isActive===this.props.isActive||this.onAutoRefresh()}},{key:"onAutoRefresh",value:function(){this.props.autoRefreshInterval>500&&this.props.isActive&&this.setState({newRefreshTimestamp:Date.now(),refreshInProgress:!0})}},{key:"onManualRefresh",value:function(){this.setState({newRefreshTimestamp:Date.now(),refreshInProgress:!0})}},{key:"render",value:function(){var e=this;return s.a.createElement("div",null,s.a.createElement("div",{className:"top-right-options"},s.a.createElement("div",{className:"logstream-options"},s.a.createElement(J.a.Search,{ref:function(t){e._inputRef=t},onChange:function(t){e.setState({search:t.target.value})},value:this.state.search,placeholder:"search",allowClear:!0,size:"small"})),this.props.tab.lambda&&s.a.createElement(m.a,{className:"option",type:this.state.overviewLoadInProgress?"loading":"info-circle",onClick:Object(f.a)(h.a.mark((function t(){var a,n;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({overviewLoadInProgress:!0}),t.next=3,O({fnName:e.props.tab.lambda,region:e.props.tab.region,awsProfile:e.props.tab.awsProfile});case 3:a=t.sent,n=a.overviewProps,Y.a.info({title:"Function Overview",content:s.a.createElement(ee,Object(p.a)({},n,{name:e.props.tab.lambda})),onOk:function(){}}),e.setState({overviewLoadInProgress:!1});case 7:case"end":return t.stop()}}),t)})))}),s.a.createElement(m.a,{className:"option",type:this.state.refreshInProgress?"loading":"sync",onClick:function(){e.state.refreshInProgress||e.onManualRefresh()}}),s.a.createElement(m.a,{className:"option",type:"setting",onClick:Object(f.a)(h.a.mark((function t(){var a;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,new Promise((function(e,t){var a=Math.random();C.postMessage({command:"showLogsOptions",messageId:a,payload:{}}),x[a]=function(a){a.error?t(a.error):e(a)}}));case 2:a=t.sent,e.setState({groupPerRequest:a.groupPerRequest}),e.props.onAutoRefreshChange(a.autoRefreshInterval);case 5:case"end":return t.stop()}}),t)})))}),s.a.createElement("div",{style:{width:20,height:10}})),s.a.createElement(V,{tab:this.props.tab,search:this.state.search,groupPerRequest:this.state.groupPerRequest,onRefreshed:function(){e.onRefreshed()},refreshTimestamp:this.state.newRefreshTimestamp,isActive:this.props.isActive}))}}]),t}(s.a.Component),re=a(35),oe=a(356),ce=a(78),ie=a(355),le=(a(260),J.a.Search),ue=J.a.TextArea,me=F.a.Panel,de="fields @timestamp, @message, @logStream\n  | filter @message like /(?i)$SEARCH_INPUT/\n  | sort @timestamp desc\n  | limit 20",he=oe.a.RangePicker,pe={"5m":3e5,"10m":6e5,"15m":9e5,"30m":18e5,"1h":36e5,"3h":108e5,"6h":216e5,"12h":432e5,"1d":864e5,"2d":1728e5,"3d":2592e5,"7d":6048e5,"30d":2592e6},fe={activeTimeFrame:"1h",customRange:[Date.now()-pe["3d"],Date.now()],searchStr:"",query:de,isQueryShown:!1,isHistoryShown:!1,activeQueryRef:"",queriesStatus:{},useRegex:!1,searchByLogStreams:(null===(ae=document.vscodeData)||void 0===ae?void 0:null===(ne=ae.settings)||void 0===ne?void 0:ne.searchByLogStreams)||!1},ge=function(e){function t(){var e,a;Object(g.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(y.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(s)))).state=fe,a.onTimeFrameChange=function(e){a.setState({activeTimeFrame:e})},a}return Object(b.a)(t,e),Object(v.a)(t,[{key:"startQuery",value:function(){var e=Object(f.a)(h.a.mark((function e(t){var a,n,s,r,o,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="custom"===this.state.activeTimeFrame?this.state.customRange:(i=this.state.activeTimeFrame,[Date.now()-pe[i],Date.now()]),n=t||Date.now().toString(),s=this.state.useRegex?this.state.searchStr:this.state.searchStr.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d").replace(/\//g,"\\/"),r=this.state.query.replace(/\$SEARCH_INPUT/g,s),this.setState({activeQueryRef:n,queriesStatus:Object(p.a)({},this.state.queriesStatus,Object(re.a)({},n,Object(p.a)({},this.state.queriesStatus[n],{activeTimeFrame:this.state.activeTimeFrame,customRange:this.state.customRange,searchStr:this.state.searchStr,query:this.state.query,isRunning:!0,status:"Started",resultsWithoutMatches:[],resultsWithMatches:[]})))}),e.prev=5,e.next=8,T({ref:n,startTime:Math.round(a[0]/1e3),endTime:Math.round(a[1]/1e3),logGroupName:this.props.logGroupName,region:this.props.region,query:r,awsProfile:this.props.awsProfile});case 8:o=e.sent,c=o.queryId,this.setState({queriesStatus:Object(p.a)({},this.state.queriesStatus,Object(re.a)({},n,Object(p.a)({},this.state.queriesStatus[n],{queryId:c})))}),this.getQueryResults(n),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(5),this.setState({activeQueryRef:n,queriesStatus:Object(p.a)({},this.state.queriesStatus,Object(re.a)({},n,Object(p.a)({},this.state.queriesStatus[n],{isRunning:!1,status:"Error",error:e.t0})))});case 17:case"end":return e.stop()}var i}),e,this,[[5,14]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getQueryResults",value:function(){var e=Object(f.a)(h.a.mark((function e(t){var a,n,s=this;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({queriesStatus:Object(p.a)({},this.state.queriesStatus,Object(re.a)({},t,Object(p.a)({},this.state.queriesStatus[t],{isRunning:!0})))}),a=this.state.queriesStatus[t].queryId,e.prev=2,e.next=5,I({queryId:a,ref:t,region:this.props.region,awsProfile:this.props.awsProfile});case 5:n=e.sent,this.setState({queriesStatus:Object(p.a)({},this.state.queriesStatus,Object(re.a)({},t,Object(p.a)({},this.state.queriesStatus[t],{isRunning:"Complete"!==n.status&&"Failed"!==n.status&&"Cancelled"!==n.status,status:n.status,stats:n.statistics,resultsWithoutMatches:n.results,resultsWithMatches:G(n.results,!0,this.state.searchStr)})))}),"Running"!==n.status&&"Scheduled"!==n.status||setTimeout((function(){return s.getQueryResults(t)}),1e3),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(2),console.log(e.t0),this.setState({queriesStatus:Object(p.a)({},this.state.queriesStatus,Object(re.a)({},t,Object(p.a)({},this.state.queriesStatus[t],{error:e.t0.message,isRunning:!1,status:"Failed",resultsWithoutMatches:[],resultsWithMatches:[]})))});case 14:case"end":return e.stop()}}),e,this,[[2,10]])})));return function(t){return e.apply(this,arguments)}}()},{key:"stopQuery",value:function(){var e=Object(f.a)(h.a.mark((function e(){var t,a,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=0,a=Object.keys(this.state.queriesStatus);case 1:if(!(t<a.length)){e.next=15;break}if(n=a[t],!this.state.queriesStatus[n]||!this.state.queriesStatus[n].queryId||"Complete"===this.state.queriesStatus[n].status||"Failed"===this.state.queriesStatus[n].status||"Cancelled"===this.state.queriesStatus[n].status){e.next=12;break}return e.prev=4,e.next=7,M({queryId:this.state.queriesStatus[n].queryId,region:this.props.region,awsProfile:this.props.awsProfile});case 7:this.setState({queriesStatus:Object(p.a)({},this.state.queriesStatus,Object(re.a)({},n,Object(p.a)({},this.state.queriesStatus[n],{isRunning:!1,status:"Stop"})))}),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(4);case 12:t++,e.next=1;break;case 15:case"end":return e.stop()}}),e,this,[[4,10]])})));return function(){return e.apply(this,arguments)}}()},{key:"onSearchInputChange",value:function(e){var t=this.state.queriesStatus[this.state.activeQueryRef]||{};this.setState({searchStr:e.target.value}),t.resultsWithoutMatches&&t.resultsWithoutMatches.length&&this.setState({queriesStatus:Object(p.a)({},this.state.queriesStatus,Object(re.a)({},this.state.activeQueryRef,Object(p.a)({},t,{resultsWithMatches:G(t.resultsWithoutMatches,!0,e.target.value)})))})}},{key:"render",value:function(){var e=this,t=this.state.queriesStatus[this.state.activeQueryRef]||{},a=t.searchStr&&t.searchStr===this.state.searchStr&&t.query===this.state.query&&t.activeTimeFrame===this.state.activeTimeFrame&&t.customRange===this.state.customRange;return s.a.createElement("div",{className:"search-page"},s.a.createElement("h2",null,"Search"),s.a.createElement("div",{className:"logstream-option"},s.a.createElement(ce.a,{checked:this.state.searchByLogStreams,onChange:function(t){var a;e.setState({searchByLogStreams:t.target.checked}),a={searchByLogStreams:t.target.checked},C.postMessage({command:"settingsChanged",payload:a})}},"Show results per log stream"," ",s.a.createElement(u.a,{title:'For each found @logStream, adidtional "getLogEvents" query will be executed.',placement:"top"},s.a.createElement(m.a,{type:"question-circle"})))),s.a.createElement(le,{value:this.state.searchStr,onSearch:function(){e.state.searchStr&&(a?e.startQuery(e.state.activeQueryRef):e.startQuery())},onChange:this.onSearchInputChange.bind(this),loading:t.isRunning&&a,enterButton:a?"Refresh":"Search",addonAfter:t.isRunning?s.a.createElement("span",null,s.a.createElement(A.a,{type:"danger",onClick:this.stopQuery.bind(this)},"Stop"),s.a.createElement(u.a,{title:"Use Regular Expression",placement:"top"},s.a.createElement("span",{style:{right:110},onClick:function(){e.setState({useRegex:!e.state.useRegex})},className:"regex-icon ".concat(this.state.useRegex?"active":"")}))):s.a.createElement(u.a,{title:"Use Regular Expression",placement:"top"},s.a.createElement("span",{style:{right:80},onClick:function(){e.setState({useRegex:!e.state.useRegex})},className:"regex-icon ".concat(this.state.useRegex?"active":"")}))}),s.a.createElement("div",{className:"search-options"},s.a.createElement("div",{className:"left belowinput"},s.a.createElement(ve,{timeframe:"5m",active:this.state.activeTimeFrame,onTimeFrameChange:this.onTimeFrameChange}),s.a.createElement("span",{className:"separator"},"|"),s.a.createElement(ve,{timeframe:"15m",active:this.state.activeTimeFrame,onTimeFrameChange:this.onTimeFrameChange}),s.a.createElement("span",{className:"separator"},"|"),s.a.createElement(ve,{timeframe:"30m",active:this.state.activeTimeFrame,onTimeFrameChange:this.onTimeFrameChange}),s.a.createElement("span",{className:"separator"},"|"),s.a.createElement(ve,{timeframe:"1h",active:this.state.activeTimeFrame,onTimeFrameChange:this.onTimeFrameChange}),s.a.createElement("span",{className:"separator"},"|"),s.a.createElement(ve,{timeframe:"6h",active:this.state.activeTimeFrame,onTimeFrameChange:this.onTimeFrameChange}),s.a.createElement("span",{className:"separator"},"|"),s.a.createElement(ve,{timeframe:"12h",active:this.state.activeTimeFrame,onTimeFrameChange:this.onTimeFrameChange}),s.a.createElement("span",{className:"separator"},"|"),s.a.createElement(ve,{timeframe:"1d",active:this.state.activeTimeFrame,onTimeFrameChange:this.onTimeFrameChange}),s.a.createElement("span",{className:"separator"},"|"),s.a.createElement(ve,{timeframe:"7d",active:this.state.activeTimeFrame,onTimeFrameChange:this.onTimeFrameChange}),s.a.createElement("span",{className:"separator"},"|"),s.a.createElement(ve,{timeframe:"30d",active:this.state.activeTimeFrame,onTimeFrameChange:this.onTimeFrameChange}),s.a.createElement("span",{className:"separator"},"|"),s.a.createElement(ve,{timeframe:"custom",active:this.state.activeTimeFrame,onTimeFrameChange:this.onTimeFrameChange})),s.a.createElement("div",{className:"right belowinput"},s.a.createElement("span",{className:this.state.isQueryShown?"whitelink active":"whitelink",onClick:function(){return e.setState({isQueryShown:!e.state.isQueryShown,isHistoryShown:!1})}},"query"),Object.keys(this.state.queriesStatus).length?[s.a.createElement("span",{className:"separator"},"|"),s.a.createElement("span",{className:this.state.isHistoryShown?"whitelink active":"whitelink",onClick:function(){return e.setState({isHistoryShown:!e.state.isHistoryShown,isQueryShown:!1})}},"history (",Object.keys(this.state.queriesStatus).length,")")]:null)),"custom"===this.state.activeTimeFrame&&s.a.createElement(he,{size:"small",style:{marginBottom:10},showTime:{format:"HH:mm"},format:"YYYY-MM-DD HH:mm",placeholder:["Start Time","End Time"],value:[k()(this.state.customRange[0]),k()(this.state.customRange[1])],ranges:{"This Week":[k()().startOf("week"),k()().endOf("week")],"This Month":[k()().startOf("month"),k()().endOf("month")],"This Year":[k()().startOf("year"),k()().endOf("year")]},onChange:function(t){e.setState({customRange:[parseInt(t[0].format("x")),parseInt(t[1].format("x"))]})}}),this.state.isQueryShown&&s.a.createElement("div",{className:"search-query"},s.a.createElement(ue,{value:this.state.query,rows:4,onChange:function(t){return e.setState({query:t.target.value})}}),s.a.createElement("div",{className:"links"},this.state.query!==de&&[s.a.createElement("span",{className:"reset whitelink",onClick:function(){return e.setState({query:de})}},"reset"),s.a.createElement("span",{className:"separator"},"|")],s.a.createElement("a",{href:"https://docs.aws.amazon.com/AmazonCloudWatch/latest/logs/CWL_QuerySyntax.html",className:"whitelink",target:"_blank",rel:"noopener noreferrer"},"more info"))),this.state.isHistoryShown&&s.a.createElement(ye,{queriesStatus:this.state.queriesStatus,active:this.state.activeQueryRef,onRowClick:function(t){var a=e.state.queriesStatus[t];e.setState({activeQueryRef:t,searchStr:a.searchStr,activeTimeFrame:a.activeTimeFrame,customRange:a.customRange,query:a.query,queriesStatus:Object(p.a)({},e.state.queriesStatus,Object(re.a)({},t,Object(p.a)({},e.state.queriesStatus[t],{resultsWithMatches:G(a.resultsWithoutMatches,!0,a.searchStr)})))})}}),s.a.createElement(Ee,{activeQuery:t}),t.error&&s.a.createElement("div",null,t.error),t.resultsWithMatches&&t.resultsWithMatches.length?s.a.createElement("div",{className:"results"},this.state.searchByLogStreams?s.a.createElement("div",null,t.resultsWithoutMatches.filter((function(e,t,a){return e.logStream&&a.map((function(e){return e.logStream})).indexOf(e.logStream)===t})).map((function(t){return s.a.createElement(_,{search:e.state.searchStr,hideSearchAndLoadMore:!0,logGroup:e.props.logGroupName,region:e.props.region,awsProfile:e.props.awsProfile,logStream:t.logStream,groupPerRequest:!0})}))):s.a.createElement(F.a,{key:"collapse",bordered:!1},t.resultsWithMatches.map((function(t){return s.a.createElement(me,{key:e.state.activeQueryRef+t.key,className:0===t.searchMatches?"blurforsearch":"",header:s.a.createElement("div",{className:"logevent-header"},s.a.createElement(H,{className:"relative-time",time:t.timestamp}),s.a.createElement("span",{className:"abs-time"},k()(t.timestamp).format("lll")),s.a.createElement("span",{className:"logevent-shortmessage"},t.searchMatches>0&&s.a.createElement("span",{className:"event-tag matches"},"matches: ",t.searchMatches),t.shortMessageMatched&&t.shortMessageMatched.length?t.shortMessageMatched.map((function(e){return s.a.createElement("span",{className:"event-tag"},e)})):t.messageShort))},t.messagesLong.map((function(t,a){return s.a.createElement(z,{key:a,message:t,search:e.state.searchStr})})))})))):null)}}]),t}(s.a.Component);function ve(e){var t=e.timeframe,a=e.active,n=e.onTimeFrameChange;return s.a.createElement("span",{className:"whitelink ".concat(a===t?"active":""),onClick:function(){return n(t)}},t)}function ye(e){var t=e.queriesStatus,a=e.onRowClick,n=e.active,r=[{title:"Search",dataIndex:"searchStr",key:"searchStr",width:"34%",render:function(e){return s.a.createElement("span",{className:"search-str"},s.a.createElement(m.a,{type:"right"}),e)}},{title:"Timeframe",dataIndex:"timeframe",key:"timeframe",render:function(e){return s.a.createElement("span",null,"Timeframe: ",e)},width:"22%"},{title:"Results",dataIndex:"results",key:"results",align:"right",render:function(e){return s.a.createElement("span",null,"Results: ",e)},width:"22%"},{title:"Status",dataIndex:"status",align:"right",key:"status",width:"22%"}],o=Object.keys(t).reverse().map((function(e){return{key:e,searchStr:t[e].searchStr,results:t[e].resultsWithMatches.length,status:t[e].status,timeframe:t[e].activeTimeFrame,ellipsis:!0}}));return s.a.createElement(ie.a,{size:"small",columns:r,dataSource:o,pagination:!1,showHeader:!1,scroll:{y:150,x:!1},onRowClick:function(e){a(e.key)},rowClassName:function(e){return e.key===n?"active":""}})}function Ee(e){var t=e.activeQuery;return s.a.createElement("div",{className:"fetching"},t&&("Running"===t.status||"Started"===t.status)&&s.a.createElement("span",{style:{marginRight:5}},"Fetching data..."),t&&t.stats&&s.a.createElement("span",null,s.a.createElement("b",null,t.stats.recordsMatched)," record",1===t.stats.recordsMatched?"":"s"," matched |"," ",s.a.createElement("b",null,t.stats.recordsScanned)," record",1===t.stats.recordsScanned?"":"s"," (",s.a.createElement("b",null,X(t.stats.bytesScanned)),") scanned"),t&&"Error"===t.status&&s.a.createElement("div",{style:{marginTop:10}},t.error||"error running query"," "))}function be(){return s.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",fill:"#fff",fillRule:"evenodd",stroke:"#000",strokeLinecap:"round",strokeLinejoin:"round",viewBox:"0 0 65 65"},s.a.createElement("use",{x:"0.5",y:"0.5",xlinkHref:"#A"}),s.a.createElement("symbol",{id:"A",overflow:"visible"},s.a.createElement("svg",{width:"64",height:"64",fill:"initial",stroke:"initial"},s.a.createElement("defs",null,s.a.createElement("clipPath",{id:"B"},s.a.createElement("path",{d:"M2332.45 5723.53v37c0 20.44-16.57 37-37 37h-12.33c-20.44 0-37-16.57-37-37v-37h-37c-20.44 0-37-16.57-37-37v-12.33c0-20.44 16.57-37 37-37h37v-37c0-20.44 16.57-37 37-37h12.33c20.44 0 37 16.57 37 37v37h37c20.44 0 37 16.57 37 37v12.33c0 20.44-16.57 37-37 37z",className:"B"})),s.a.createElement("clipPath",{id:"C"},s.a.createElement("path",{d:"M-2297.97 261.46H12137.2v9623.42H-2297.97z"})),s.a.createElement("clipPath",{id:"D"},s.a.createElement("path",{d:"M1534.22 5533.96l-387.92 2.36 190.5-1210.2h464.12l190.5 1210.2z",className:"B"})),s.a.createElement("clipPath",{id:"E"},s.a.createElement("path",{d:"M-2297.97 261.46H12137.2v9623.42H-2297.97z"})),s.a.createElement("clipPath",{id:"F"},s.a.createElement("path",{d:"M1534.22 5533.96l-387.92 2.36 190.5-1210.2h367.14l190.5 1210.2z",className:"B"})),s.a.createElement("clipPath",{id:"G"},s.a.createElement("path",{d:"M-2297.97 261.46H12137.2v9623.42H-2297.97z"})),s.a.createElement("clipPath",{id:"H"},s.a.createElement("path",{d:"M1035.47 5536.32h1000.97v111.602H1035.47z"})),s.a.createElement("clipPath",{id:"I"},s.a.createElement("path",{d:"M1842.48 5829.28H1222.5l-72.73-167.4h765.44z",className:"B"})),s.a.createElement("clipPath",{id:"J"},s.a.createElement("path",{d:"M-2297.97 261.46H12137.2v9623.42H-2297.97z"})),s.a.createElement("clipPath",{id:"K"},s.a.createElement("path",{d:"M2005.26 5194.53H1059.7l85.37-481.3 387.4 4.2 387.4-4.2z",className:"B"})),s.a.createElement("clipPath",{id:"L"},s.a.createElement("path",{d:"M-2297.97 261.46H12137.2v9623.42H-2297.97z"})),s.a.createElement("clipPath",{id:"M"},s.a.createElement("path",{d:"M707.297 5228.36c78.582 0 142.293 63.7 142.293 142.3s-63.7 142.3-142.293 142.3S565 5449.24 565 5370.65c0-78.58 63.7-142.3 142.297-142.3z",className:"B"})),s.a.createElement("clipPath",{id:"N"},s.a.createElement("path",{d:"M-2297.97 261.46H12137.2v9623.42H-2297.97z"})),s.a.createElement("clipPath",{id:"O"},s.a.createElement("path",{d:"M2188.83 4876.8c36.98 0 66.96 29.98 66.96 66.96s-29.98 66.96-66.96 66.96-66.95-29.98-66.95-66.96 29.97-66.96 66.95-66.96z",className:"B"})),s.a.createElement("clipPath",{id:"P"},s.a.createElement("path",{d:"M-2297.97 261.46H12137.2v9623.42H-2297.97z"})),s.a.createElement("clipPath",{id:"Q"},s.a.createElement("path",{d:"M933.293 4491.78c36.98 0 66.957 29.98 66.957 66.96s-29.977 66.96-66.957 66.96-66.965-29.98-66.965-66.96 29.98-66.96 66.965-66.96z",className:"B"})),s.a.createElement("clipPath",{id:"R"},s.a.createElement("path",{d:"M-2297.97 261.46H12137.2v9623.42H-2297.97z"}))),s.a.createElement("g",{"clip-path":"url(#B)",transform:"translate(-90.948 -1833.18) scale(2.70479) matrix(.01285 0 0 -.01285 26.365 755.75)"},s.a.createElement("g",{"clip-path":"url(#C)"},s.a.createElement("path",{fill:"#f9dd05",d:"M2111.94 5503.03h354.66v354.66h-354.66z"}))),s.a.createElement("g",{"clip-path":"url(#D)",transform:"translate(-90.948 -1833.18) scale(2.70479) matrix(.01285 0 0 -.01285 26.365 755.75)"},s.a.createElement("g",{"clip-path":"url(#E)"},s.a.createElement("path",{fill:"#f68313",d:"M1086.15 4265.97h965.402v1330.5H1086.15z"}))),s.a.createElement("g",{"clip-path":"url(#F)",transform:"translate(-90.948 -1833.18) scale(2.70479) matrix(.01285 0 0 -.01285 26.365 755.75)"},s.a.createElement("g",{"clip-path":"url(#G)"},s.a.createElement("path",{fill:"#f9dd05",d:"M1086.15 4265.97h868.43v1330.5h-868.43z"}))),s.a.createElement("g",{"clip-path":"url(#H)",transform:"translate(-90.948 -1833.18) scale(2.70479) matrix(.01285 0 0 -.01285 26.365 755.75)"},s.a.createElement("path",{fill:"#fff",d:"M975.32 5476.17h1121.26v231.898H975.32z"})),s.a.createElement("path",{d:"M40.004 684.277h12.194v-.766H40.004zm12.862.668h-13.53v-2.102h13.53v2.102",className:"C",transform:"translate(-90.948 -1833.18) scale(2.70479)"}),s.a.createElement("g",{"clip-path":"url(#I)",transform:"translate(-90.948 -1833.18) scale(2.70479) matrix(.01285 0 0 -.01285 26.365 755.75)"},s.a.createElement("g",{"clip-path":"url(#J)"},s.a.createElement("path",{fill:"#fff",d:"M1089.62 5601.72h885.738v287.703H1089.62z"}))),s.a.createElement("path",{fill:"#12110f",d:"M41.648 682.664h8.818l-.645-1.484h-7.53zm9.835.667H40.63l1.225-2.82h8.404l1.225 2.82",transform:"translate(-90.948 -1833.18) scale(2.70479)"}),s.a.createElement("path",{d:"M42.937 699.828h6.283l2.342-14.88-5.486.028-5.482-.028zm6.854.667h-7.424l-2.553-16.22 6.265.032 6.266-.032-2.553 16.22",className:"C",transform:"translate(-90.948 -1833.18) scale(2.70479)"}),s.a.createElement("g",{"clip-path":"url(#K)",transform:"translate(-90.948 -1833.18) scale(2.70479) matrix(.01285 0 0 -.01285 26.365 755.75)"},s.a.createElement("g",{"clip-path":"url(#L)"},s.a.createElement("path",{fill:"#fff",d:"M999.563 4653.1h1065.85v601.578H999.563z"}))),s.a.createElement("path",{d:"M46.053 694.8l4.702.05.978-5.514H40.38l.978 5.514zm5.26.724l-5.26-.057-5.254.057-1.216-6.855H52.53l-1.216 6.855",className:"C",transform:"translate(-90.948 -1833.18) scale(2.70479)"}),s.a.createElement("g",null,s.a.createElement("g",{"clip-path":"url(#M)",transform:"translate(-90.948 -1833.18) scale(2.70479) matrix(.01285 0 0 -.01285 26.365 755.75)"},s.a.createElement("g",{"clip-path":"url(#N)"},s.a.createElement("path",{fill:"#f1f1f1",d:"M707.297 5429.25c-32.3 0-58.598-26.3-58.598-58.6s26.3-58.6 58.598-58.6 58.594 26.3 58.594 58.6-26.3 58.6-58.594 58.6zm0-284.6c-124.62 0-225.996 101.38-225.996 226s101.375 226 225.996 226 225.996-101.38 225.996-226c0-124.6-101.38-226-225.996-226"}))),s.a.createElement("g",{"clip-path":"url(#O)",transform:"translate(-90.948 -1833.18) scale(2.70479) matrix(.01285 0 0 -.01285 26.365 755.75)"},s.a.createElement("g",{"clip-path":"url(#P)"},s.a.createElement("path",{fill:"#f1f1f1",d:"M2061.73 4816.66h254.2v254.22h-254.2z"}))),s.a.createElement("g",{"clip-path":"url(#Q)",transform:"translate(-90.948 -1833.18) scale(2.70479) matrix(.01285 0 0 -.01285 26.365 755.75)"},s.a.createElement("g",{"clip-path":"url(#R)"},s.a.createElement("path",{fill:"#f46c35",d:"M806.184 4431.63H1060.4v254.223H806.184z"})))))))}var we=l.a.TabPane;var Se=a(59),ke=a(360),Ce=a(184),xe=function(e){function t(){var e,a;Object(g.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(y.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(s)))).state={inputVisible:!1,inputValue:""},a.handleClose=function(e){var t=a.props.stages.filter((function(t){return t!==e}));a.props.onStagesChange(t)},a.showInput=function(){a.setState({inputVisible:!0},(function(){return a.input.focus()}))},a.handleInputChange=function(e){a.setState({inputValue:e.target.value})},a.handleInputConfirm=function(){var e=a.state.inputValue,t=a.props.stages;e&&-1===t.indexOf(e)&&(t=[].concat(Object(c.a)(t),[e])),a.props.onStagesChange(t),a.setState({inputVisible:!1,inputValue:""})},a.saveInputRef=function(e){return a.input=e},a.input=void 0,a}return Object(b.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.inputVisible,n=t.inputValue;return s.a.createElement("div",null,this.props.stages.map((function(t){return s.a.createElement(Ce.a,{key:t,closable:!0,onClose:function(){return e.handleClose(t)}},t)})),a&&s.a.createElement(J.a,{ref:this.saveInputRef,type:"text",size:"small",style:{width:78},value:n,onChange:this.handleInputChange,onBlur:this.handleInputConfirm,onPressEnter:this.handleInputConfirm}),!a&&s.a.createElement(Ce.a,{onClick:this.showInput,style:{borderStyle:"dashed"}},s.a.createElement(m.a,{type:"plus"})," Add stage"))}}]),t}(s.a.Component),Oe=Se.a.Option;function Ne(e){return s.a.createElement(Se.a,{showSearch:!0,defaultValue:e.region,style:e.style||{width:"100%"},onChange:e.setRegion,optionFilterProp:"children",filterOption:function(e,t){return t.props.children.toLowerCase().indexOf(e.toLowerCase())>=0}},s.a.createElement(Oe,{value:"us-east-2"},"us-east-2 (US East, Ohio)"),s.a.createElement(Oe,{value:"us-east-1"},"us-east-1 (US East, N. Virginia)"),s.a.createElement(Oe,{value:"us-west-1"},"us-west-1 (US West, N. California)"),s.a.createElement(Oe,{value:"us-west-2"},"us-west-2 (US West, Oregon)"),s.a.createElement(Oe,{value:"ap-east-1"},"ap-east-1 (Asia Pacific, Hong Kong)"),s.a.createElement(Oe,{value:"ap-south-1"},"ap-south-1 (Asia Pacific, Mumbai)"),s.a.createElement(Oe,{value:"ap-northeast-3"},"ap-northeast-3 (Asia Pacific, Osaka-Local)"),s.a.createElement(Oe,{value:"ap-northeast-2"},"ap-northeast-2 (Asia Pacific, Seoul)"),s.a.createElement(Oe,{value:"ap-southeast-1"},"ap-southeast-1 (Asia Pacific, Singapore)"),s.a.createElement(Oe,{value:"ap-southeast-2"},"ap-southeast-2 (Asia Pacific, Sydney)"),s.a.createElement(Oe,{value:"ap-northeast-1"},"ap-northeast-1 (Asia Pacific, Tokyo)"),s.a.createElement(Oe,{value:"ca-central-1"},"ca-central-1 (Canada, Central)"),s.a.createElement(Oe,{value:"cn-north-1"},"cn-north-1 (China, Beijing)"),s.a.createElement(Oe,{value:"cn-northwest-1"},"cn-northwest-1 (China, Ningxia)"),s.a.createElement(Oe,{value:"eu-central-1"},"eu-central-1 (EU, Frankfurt)"),s.a.createElement(Oe,{value:"eu-west-1"},"eu-west-1 (EU, Ireland)"),s.a.createElement(Oe,{value:"eu-west-2"},"eu-west-2 (EU, London)"),s.a.createElement(Oe,{value:"eu-west-3"},"eu-west-3 (EU, Paris)"),s.a.createElement(Oe,{value:"eu-north-1"},"eu-north-1 (EU, Stockholm)"),s.a.createElement(Oe,{value:"me-south-1"},"me-south-1 (Middle East, Bahrain)"),s.a.createElement(Oe,{value:"sa-east-1"},"sa-east-1 (South America, Sao Paulo)"),s.a.createElement(Oe,{value:"us-gov-east-1"},"us-gov-east-1 (AWS GovCloud, US-East)"),s.a.createElement(Oe,{value:"us-gov-west-1"},"us-gov-west-1 (AWS GovCloud, US-West)"))}var je=Se.a.Option;function Re(e){var t=Object(n.useState)(),a=Object(i.a)(t,2),r=a[0],o=a[1],c=Object(n.useState)(!0),l=Object(i.a)(c,2),u=l[0],m=l[1],d=Object(n.useState)([]),h=Object(i.a)(d,2),p=h[0],f=h[1],g=Object(n.useState)(e.defaultRegion),v=Object(i.a)(g,2),y=v[0],E=v[1],b=Object(n.useState)(e.defaultStackName),w=Object(i.a)(b,2),S=w[0],k=w[1],O=Object(n.useState)(!0),N=Object(i.a)(O,2),j=N[0],R=N[1],T=e.awsProfile;return Object(n.useEffect)((function(){m(!0),function(e){var t=e.region,a=e.awsProfile;return new Promise((function(e){var n=Math.random();C.postMessage({command:"listCloudFormationStacks",messageId:n,payload:{region:t,awsProfile:a}}),x[n]=function(t){t.error?e({stacks:[],error:t.error}):e({stacks:t.stacks})}}))}({region:y,awsProfile:T}).then((function(e){var t=e.stacks,a=e.error;m(!1),o(a),f(t),k(t[0])}))}),[y,T]),Object(n.useEffect)((function(){e.onChange(S,e.stage,y)}),[S]),s.a.createElement("table",null,s.a.createElement("tr",null,s.a.createElement("td",{style:{width:100}},"Region"),s.a.createElement("td",null,s.a.createElement(Ne,{region:y,setRegion:E,style:{width:250}}))),s.a.createElement("tr",null,s.a.createElement("td",{style:{minWidth:100}},"Stack name"),s.a.createElement("td",null,u?s.a.createElement("div",null,"loading..."):r?s.a.createElement("div",null,r):0===p.length?s.a.createElement("div",null,"No stacks found"):j?s.a.createElement("div",null,s.a.createElement(Se.a,{showSearch:!0,style:{width:250},value:S,onChange:k,placeholder:"Select a CloudFormation Stack",optionFilterProp:"children",filterOption:function(e,t){return t.props.children.toLowerCase().indexOf(e.toLowerCase())>=0}},p.map((function(e){return s.a.createElement(je,{key:e,value:e},e)}))),s.a.createElement("div",{style:{padding:2,opacity:.5,textAlign:"right",cursor:"pointer",fontSize:"0.6rem"},onClick:function(){return R(!1)}},"switch to manual input")):s.a.createElement("div",null,s.a.createElement(J.a,{style:{width:250},value:S,onChange:function(e){return k(e.target.value)}}),s.a.createElement("div",{style:{padding:2,opacity:.5,textAlign:"right",cursor:"pointer",fontSize:"0.6rem"},onClick:function(){return R(!0)}},"switch to dropdown input")))))}var Te=Se.a.Option;function Me(e){var t=Object(n.useState)(),a=Object(i.a)(t,2),r=a[0],o=a[1],c=Object(n.useState)(!0),l=Object(i.a)(c,2),u=l[0],m=l[1],d=Object(n.useState)([]),h=Object(i.a)(d,2),p=h[0],f=h[1],g=Object(n.useState)(e.defaultRegion),v=Object(i.a)(g,2),y=v[0],E=v[1],b=Object(n.useState)(e.defaultLogGroup),w=Object(i.a)(b,2),S=w[0],k=w[1],O=Object(n.useState)(!Boolean(e.title)),N=Object(i.a)(O,2),j=N[0],R=N[1],T=Object(n.useState)(e.title),M=Object(i.a)(T,2),I=M[0],P=M[1],F=Object(n.useState)(!0),L=Object(i.a)(F,2),K=L[0],q=L[1],D=e.awsProfile,B=s.a.createRef();return Object(n.useEffect)((function(){m(!0),function(e){var t=e.region,a=e.awsProfile;return new Promise((function(e){var n=Math.random();C.postMessage({command:"describeLogGroups",messageId:n,payload:{region:t,awsProfile:a}}),x[n]=function(t){t.error?e({logGroups:[],error:t.error}):e({logGroups:t.logGroups})}}))}({region:y,awsProfile:D}).then((function(e){var t=e.logGroups,a=e.error;m(!1),o(a),f(t),k(t[0])}))}),[y,D]),Object(n.useEffect)((function(){e.onChange({logGroupName:S,stage:e.stage,region:y,useLogGroupName:j,customTitle:I})}),[S,j,I]),s.a.createElement("table",null,s.a.createElement("tr",null,s.a.createElement("td",{style:{width:100}},"Region"),s.a.createElement("td",null,s.a.createElement(Ne,{region:y,setRegion:E,style:{width:250}}))),s.a.createElement("tr",null,s.a.createElement("td",{style:{minWidth:100}},"Log Group"),s.a.createElement("td",null,u?s.a.createElement("div",null,"loading..."):r?s.a.createElement("div",null,r):0===p.length?s.a.createElement("div",null,"No stacks found"):K?s.a.createElement("div",null,s.a.createElement(Se.a,{showSearch:!0,style:{width:250},value:S,onChange:k,placeholder:"Select a CloudFormation Stack",optionFilterProp:"children",filterOption:function(e,t){return t.props.children.toLowerCase().indexOf(e.toLowerCase())>=0}},p.map((function(e){return s.a.createElement(Te,{key:e,value:e},e)}))),s.a.createElement("div",{style:{padding:2,opacity:.5,textAlign:"right",cursor:"pointer",fontSize:"0.6rem"},onClick:function(){return q(!1)}},"switch to manual input")):s.a.createElement("div",null,s.a.createElement(J.a,{style:{width:250},value:S,onChange:function(e){return k(e.target.value)}}),s.a.createElement("div",{style:{padding:2,opacity:.5,textAlign:"right",cursor:"pointer",fontSize:"0.6rem"},onClick:function(){return q(!0)}},"switch to dropdown input")))),s.a.createElement("tr",null,s.a.createElement("td",{className:"td-left"},"Title"),e.showTitle?s.a.createElement("td",null,s.a.createElement(ce.a,{className:"config-title",style:{width:150,opacity:j?1:.5},checked:j,onChange:function(e){R(e.target.checked),B.current.focus()}},"Use Log Group name"),s.a.createElement(J.a,{style:{width:100,opacity:j?0:1},ref:B,value:I,onChange:function(e){return P(e.target.value)}})):s.a.createElement("td",null,"will be the same as in first stage")))}var Ie=l.a.TabPane,Pe=function(e){function t(e){var a;return Object(g.a)(this,t),(a=Object(y.a)(this,Object(E.a)(t).call(this,e))).newTabIndex=void 0,a.state=void 0,a.onChange=function(e){a.setState({activeKey:e})},a.onEdit=function(e,t){a[t](e)},a.add=function(){if(!a.state.newStageVal||a.state.panes.find((function(e){return e.stage===a.state.newStageVal})))return!1;var e=a.state.panes,t=a.state.newStageVal;e.push({stage:a.state.newStageVal}),a.setState({panes:e,activeKey:t,newStageVal:""})},a.remove=function(e){var t,n=a.state.activeKey;a.state.panes.forEach((function(a,n){a.stage===e&&(t=n-1)}));var s=a.state.panes.filter((function(t){return t.stage!==e}));s.length&&n===e&&(n=t>=0?s[t].stage:s[0].stage),a.setState({panes:s,activeKey:n}),a.props.onChange(s)},a.newTabIndex=0,a.state={newStageVal:"",activeKey:e.defaultStages[0].stage,panes:e.defaultStages},a}return Object(b.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},s.a.createElement("div",{style:{width:"70%",maxWidth:450}},s.a.createElement(l.a,{hideAdd:!0,onChange:this.onChange,activeKey:this.state.activeKey,size:"small",type:"editable-card",animated:!0,onEdit:this.onEdit},this.state.panes.map((function(t,a){return s.a.createElement(Ie,{tab:t.stage,key:t.stage},"cloudformation"===e.props.source&&s.a.createElement(Re,{awsProfile:e.props.awsProfile,defaultRegion:t.region||e.props.defaultRegion,defaultStackName:t.stage,stage:e.state.activeKey,onChange:function(t,a,n){var s=e.state.panes.map((function(e){return e.stage===a?Object(p.a)({},e,{region:n,stackName:t}):e}));e.setState({panes:s}),e.props.onChange(s)}}),"custom"===e.props.source&&s.a.createElement(Me,{awsProfile:e.props.awsProfile,defaultRegion:t.region||e.props.defaultRegion,defaultLogGroup:t.stage,stage:e.state.activeKey,showTitle:0===a,onChange:function(t){var a=t.logGroupName,n=t.stage,s=t.region,r=t.useLogGroupName,o=t.customTitle,c=e.state.panes.map((function(e){return e.stage===n?Object(p.a)({},e,{region:s,logGroupName:a,useLogGroupName:r,customTitle:o}):e}));e.setState({panes:c}),e.props.onChange(c)}}))})))),s.a.createElement("div",{style:{width:"30%",marginTop:8}},s.a.createElement(J.a,{style:{borderTop:0,borderLeft:0,borderRight:0},value:this.state.newStageVal,onChange:function(t){return e.setState({newStageVal:t.target.value})},placeholder:"add new stage",onPressEnter:this.add})))}}]),t}(s.a.Component),Fe=Se.a.Option;function Le(e){var t=Object(n.useState)(e.source),a=Object(i.a)(t,2),r=a[0],o=a[1],l=Object(n.useState)(e.awsProfile),u=Object(i.a)(l,2),d=u[0],g=u[1],v=Object(n.useState)(e.title),y=Object(i.a)(v,2),E=y[0],b=y[1],w=Object(n.useState)(e.title),S=Object(i.a)(w,2),k=S[0],C=S[1],x=Object(n.useState)(e.title),O=Object(i.a)(x,2),N=O[0],j=O[1],T=Object(n.useState)(!Boolean(e.title)),M=Object(i.a)(T,2),I=M[0],P=M[1],F=Object(n.useState)(e.cwd),L=Object(i.a)(F,2),K=L[0],q=L[1],D=Object(n.useState)(e.print),B=Object(i.a)(D,2),Q=B[0],z=B[1],H=Object(n.useState)(e.offset),W=Object(i.a)(H,2),_=W[0],G=W[1],U=Object(n.useState)(e.stages),V=Object(i.a)(U,2),Y=V[0],$=V[1],X=Object(n.useState)({}),Z=Object(i.a)(X,2),ee=Z[0],te=Z[1],ae=Object(n.useState)([]),ne=Object(i.a)(ae,2),se=ne[0],oe=ne[1],ie=Object(n.useState)([]),le=Object(i.a)(ie,2),ue=le[0],me=le[1],de=Object(n.useState)(e.customLogs),he=Object(i.a)(de,2),pe=he[0],fe=he[1],ge=Object(n.useState)(""),ve=Object(i.a)(ge,2),ye=ve[0],Ee=ve[1],be=Object(n.useState)(!1),we=Object(i.a)(be,2),Ce=we[0],Oe=we[1],Ne=Object(n.useState)([{key:"",value:""}]),je=Object(i.a)(Ne,2),Re=je[0],Te=je[1],Me=s.a.createRef(),Ie=function(){var t=Object(f.a)(h.a.mark((function t(a){var n,s,c,i;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(Ee(""),n=[],s=[],d||(n.push("awsProfile"),s.push("AWS Profile is required")),"serverless"!==r){t.next=22;break}if(Q||(n.push("print"),s.push("Print command is required")),K||(n.push("cwd"),s.push("Relative directory is required")),E||I||(n.push("title"),s.push("Title is required")),0===Y.length&&(n.push("stages"),s.push("At least one stage must be defined")),0!==s.length){t.next=20;break}return Oe(!0),t.prev=11,t.next=14,R({source:r,awsProfile:d,cwd:K,print:Q,offset:_,stages:Y,stacks:ee,title:I?null:E,envVars:Re.filter((function(e){return e.key&&e.value}))});case 14:t.next=19;break;case 16:t.prev=16,t.t0=t.catch(11),s.push(t.t0.message);case 19:Oe(!1);case 20:t.next=51;break;case 22:if("cloudformation"!==r){t.next=39;break}if(k||(n.push("cfTitle"),s.push("Title is required")),0===ee.length&&s.push("At least one stage must be defined"),ee.length&&ee.find((function(e){return!e.stackName}))&&(c=ee.find((function(e){return!e.stackName})),s.push("Missing stack name in stage ".concat(c.title))),0!==s.length){t.next=37;break}return Oe(!0),t.prev=28,t.next=31,R({source:r,awsProfile:d,offset:_,stacks:ee,title:k});case 31:t.next=36;break;case 33:t.prev=33,t.t1=t.catch(28),s.push(t.t1.message);case 36:Oe(!1);case 37:t.next=51;break;case 39:if(N||(n.push("customTitle"),s.push("Title is required")),0===(i=Object.values(pe).map((function(e){var t={title:e[0].useLogGroupName&&e[0].logGroupName?e[0].logGroupName:e[0].customTitle,tabs:e.map((function(e){return e.logGroupName||s.push("Missing log in stage ".concat(e.stage)),{region:e.region,title:e.stage,logs:e.logGroupName}}))};return t.title||s.push("Missing title in stage ".concat(e[0].stage)),t}))).length&&s.push("At least one stage must be defined"),0!==s.length){t.next=51;break}return t.prev=43,t.next=46,R({source:r,awsProfile:d,offset:_,items:i,title:N});case 46:t.next=51;break;case 48:t.prev=48,t.t2=t.catch(43),s.push(t.t2.message);case 51:0===s.length&&(Ee("Service successfully added"),o(e.source),g(e.awsProfile),b(e.title),C(e.title),P(!Boolean(e.title)),q(e.cwd),z(e.print),G(e.offset),$(e.stages)),oe(n),me(s);try{a.target.blur()}catch(mt){}case 55:case"end":return t.stop()}}),t,null,[[11,16],[28,33],[43,48]])})));return function(e){return t.apply(this,arguments)}}();return s.a.createElement("div",null,s.a.createElement("table",{className:"form-table"},s.a.createElement("tr",null,s.a.createElement("td",{className:"td-left"},"Source"),s.a.createElement("td",null,s.a.createElement(Se.a,{value:r,className:se.includes("source")&&"error",style:{width:"100%"},onChange:o},s.a.createElement(Fe,{value:"serverless"},"Serverless Framework (AWS)"),s.a.createElement(Fe,{value:"cloudformation"},"CloudFormation (AWS)"),s.a.createElement(Fe,{value:"custom"},"Custom (AWS)")))),s.a.createElement("tr",null,s.a.createElement("td",{className:"td-left"},"AWS Profile"),s.a.createElement("td",null,document.vscodeData.profiles&&document.vscodeData.profiles.length&&document.vscodeData.profiles.includes(d)?s.a.createElement(Se.a,{value:d,className:se.includes("awsProfile")&&"error",style:{width:"100%"},onChange:g},document.vscodeData.profiles.map((function(e){return s.a.createElement(Fe,{value:e},e)}))):s.a.createElement(J.a,{className:se.includes("awsProfile")&&"error",value:d,onChange:function(e){return g(e.target.value)}}))),s.a.createElement("tr",null,s.a.createElement("td",{className:"td-left"},"Time offset (minutes)"),s.a.createElement("td",null,s.a.createElement(ke.a,{className:se.includes("offset")&&"error",value:_,onChange:function(e){G("number"===typeof e?e:0)}}))),"serverless"===r&&[s.a.createElement("tr",null,s.a.createElement("td",{className:"td-left"},"Title"),s.a.createElement("td",null,s.a.createElement(ce.a,{className:"config-title",style:{opacity:I?1:.5},checked:I,onChange:function(e){P(e.target.checked),Me.current.focus()}},"Use config service name"),s.a.createElement(J.a,{className:se.includes("title")?"error custom-title":"custom-title",style:{opacity:I?0:1},ref:Me,value:E,onChange:function(e){return b(e.target.value)}}))),s.a.createElement("tr",null,s.a.createElement("td",{className:"td-left"},"Relative directory"),s.a.createElement("td",null,s.a.createElement(J.a,{className:se.includes("cwd")&&"error",value:K,onChange:function(e){q(e.target.value||"./")}}))),s.a.createElement("tr",null,s.a.createElement("td",{className:"td-left"},"Print command"),s.a.createElement("td",null,s.a.createElement(J.a,{className:se.includes("print")&&"error",value:Q,onChange:function(e){return z(e.target.value)}}))),s.a.createElement("tr",null,s.a.createElement("td",{className:"td-left"},"Stages"),s.a.createElement("td",{className:se.includes("stages")&&"error"},s.a.createElement(xe,{stages:Y,onStagesChange:$}))),s.a.createElement("tr",null,s.a.createElement("td",{valign:"top",style:{paddingTop:7}},"Enviroment variables"),s.a.createElement("td",null,Re.map((function(e,t){return s.a.createElement("div",{key:t},s.a.createElement(J.a,{style:{width:"40%",marginRight:"5%",marginBottom:5},placeholder:"Key",value:e.key,onChange:function(e){var a=Object(c.a)(Re);a[t].key=e.target.value,Te(a)}}),s.a.createElement(J.a,{style:{width:"40%",marginRight:"5%",marginBottom:5},placeholder:"Value",value:e.value,onChange:function(e){var a=Object(c.a)(Re);a[t].value=e.target.value,Te(a)}}),Re.length===t+1&&s.a.createElement(m.a,{type:"plus-circle",onClick:function(){return Te([].concat(Object(c.a)(Re),[{key:"",value:""}]))}}))}))))],"cloudformation"===r&&[s.a.createElement("tr",null,s.a.createElement("td",{className:"td-left"},"Title"),s.a.createElement("td",null,s.a.createElement(J.a,{className:se.includes("cfTitle")&&"error",placeholder:"Service Title",value:k,onChange:function(e){return C(e.target.value)}}))),s.a.createElement("tr",null,s.a.createElement("td",{colSpan:2},s.a.createElement(Pe,{source:r,awsProfile:d,defaultStages:e.stacks,defaultRegion:e.region,onChange:function(e){te(e)}})))],"custom"===r&&[s.a.createElement("tr",null,s.a.createElement("td",{className:"td-left"},"Title"),s.a.createElement("td",null,s.a.createElement(J.a,{className:se.includes("customTitle")&&"error",placeholder:"Service Title",value:N,onChange:function(e){return j(e.target.value)}}))),s.a.createElement("tr",null,s.a.createElement("td",{colSpan:2},Object.entries(pe).map((function(t){var a=Object(i.a)(t,2),n=a[0];a[1];return s.a.createElement("div",{className:"tabs-wrapper-item",key:n},s.a.createElement(Pe,{source:r,awsProfile:d,defaultStages:e.stacks,defaultRegion:e.region,onChange:function(e){fe(Object(p.a)({},pe,Object(re.a)({},n,e)))}}),s.a.createElement(m.a,{type:"close",className:"remove-log-item",onClick:function(){var e=pe;delete e[n],fe(Object(p.a)({},e))}}))})),s.a.createElement(A.a,{style:{float:"right"},className:"submit-button",onClick:function(){var e=Object.keys(pe).length;fe(Object(p.a)({},pe,Object(re.a)({},"".concat(e,"-").concat(Math.random()),[{stage:"dev"}])))}},"Add Log Group")))]),s.a.createElement(A.a,{loading:Ce,className:"submit-button",onClick:Ie},"Add Service"),s.a.createElement("div",{className:"error-desc-wrap"},ue.map((function(e,t){return e.length>150?s.a.createElement("textarea",{value:e,className:"errortextarea",readOnly:!0}):s.a.createElement("p",null,e)}))),ye&&s.a.createElement("div",null,ye))}a(346),a(347);function Ke(e){var t=e.region,a=e.awsProfile,n=e.endpoint;return new Promise((function(e){var s=Math.random();C.postMessage({command:"listDynamoDbTables",messageId:s,payload:{region:t,awsProfile:a,endpoint:n}}),x[s]=function(t){t.error?e({tableNames:[],error:t.error}):e({tableNames:t.tableNames})}}))}function qe(e){return De.apply(this,arguments)}function De(){return(De=Object(f.a)(h.a.mark((function e(t){var a,n,s,r,o,c,i,l,u,m,d,f;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.lastEvaluatedKey,n=t.limit,s=void 0===n?100:n,r=t.queryType,o=void 0===r?"scan":r,c=t.filters,i=t.index,l=t.lastFetchResult,u=t.onlyRefreshCurrentItems,e.next=3,new Promise((function(e,t){var n=Math.random();C.postMessage({command:"fetchItems",messageId:n,payload:{lastEvaluatedKey:a,index:i,queryType:o,filters:c.map((function(e){return e.dataType?e:Object(p.a)({},e,{dataType:e.autoDetectedDataType})})),limit:s,lastFetchResult:l,onlyRefreshCurrentItems:u}}),x[n]=function(a){a.error?t(a.error):e(a)}}));case 3:return m=e.sent,d={},f={},m.changedItems.forEach((function(e){Object.keys(e.data).forEach((function(t){var a=String(e.data[t]).length;void 0===f[t]&&(d[t]=0,f[t]=0),f[t]+=a,d[t]+=1}))})),Object.keys(f).forEach((function(e){var t=Math.round(f[e]/d[e]);f[e]=e.length>t?e.length:t})),e.abrupt("return",{items:m.Items,changedItems:m.changedItems,count:m.Count,scannedCount:m.ScannedCount,lastEvaluatedKey:m.LastEvaluatedKey,widthPerColumn:f,countPerColumn:d,changes:m.changes||[],timeFetched:m.timeFetched});case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Be(e){C.postMessage({command:"editItem",payload:e})}function Qe(e){C.postMessage({command:"createItem",payload:{prepopulatedItem:e}})}function Ae(e){C.postMessage({command:"discardChange",payload:{id:e}})}function ze(e){C.postMessage({command:"openChange",payload:{id:e}})}function He(e){return new Promise((function(t,a){var n=Math.random();C.postMessage({command:"dynamodbOptions",messageId:n,payload:{columns:e}}),x[n]=function(e){e.error?a(e.error):t(e)}}))}var We=function(e){function t(e){var a;return Object(g.a)(this,t),(a=Object(y.a)(this,Object(E.a)(t).call(this,e))).state={connection:"remote",endpoint:"http://localhost:8000",loading:!1,error:null,table:null,region:e.region,awsProfile:e.awsProfile,tableNames:[],startedTrial:!1},a}return Object(b.a)(t,e),Object(v.a)(t,[{key:"fetchTableNames",value:function(){var e=Object(f.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({error:null,loading:!0}),e.next=3,Ke({region:"local"===this.state.connection?"local":this.state.region,awsProfile:this.state.awsProfile,endpoint:this.state.endpoint});case 3:t=e.sent,this.setState({table:t.tableNames[0],error:t.error,loading:!1,tableNames:t.tableNames});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.fetchTableNames()}},{key:"componentDidUpdate",value:function(){var e=Object(f.a)(h.a.mark((function e(t,a){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.awsProfile===this.state.awsProfile&&a.region===this.state.region&&a.table===this.state.table||this.setState({resultMessage:null}),a.awsProfile===this.state.awsProfile&&a.region===this.state.region&&a.endpoint===this.state.endpoint&&a.connection===this.state.connection||this.fetchTableNames();case 2:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return s.a.createElement("div",null,s.a.createElement("table",{className:"form-table"},s.a.createElement("tr",null,s.a.createElement("td",{className:"td-left"},"Connection"),s.a.createElement("td",null,s.a.createElement(Se.a,{showSearch:!1,style:{width:"100%"},value:this.state.connection,onChange:function(t){return e.setState({connection:t})}},s.a.createElement(Se.a.Option,{key:"remote",value:"remote"},"Remote"),s.a.createElement(Se.a.Option,{key:"local",value:"local"},"Local")))),"local"===this.state.connection&&s.a.createElement("tr",null,s.a.createElement("td",{className:"td-left"},"Endpoint"),s.a.createElement("td",null,s.a.createElement(J.a,{value:this.state.endpoint,onChange:function(t){return e.setState({endpoint:t.target.value})}}))),"remote"===this.state.connection&&s.a.createElement("tr",null,s.a.createElement("td",{className:"td-left"},"AWS Profile"),s.a.createElement("td",null,document.vscodeData.profiles&&document.vscodeData.profiles.length&&document.vscodeData.profiles.includes(this.props.awsProfile)?s.a.createElement(Se.a,{value:this.state.awsProfile,style:{width:"100%"},onChange:function(t){return e.setState({awsProfile:t})}},document.vscodeData.profiles.map((function(e){return s.a.createElement(Se.a.Option,{value:e},e)}))):s.a.createElement(J.a,{value:this.state.awsProfile,onChange:function(t){return e.setState({awsProfile:t.target.value})}}))),"remote"===this.state.connection&&s.a.createElement("tr",null,s.a.createElement("td",{className:"td-left"},"Region"),s.a.createElement("td",null,s.a.createElement(Ne,{region:this.state.region,setRegion:function(t){return e.setState({region:t})}}))),s.a.createElement("tr",null,s.a.createElement("td",{className:"td-left"},"Table Name"),s.a.createElement("td",null,this.state.loading?s.a.createElement("div",null,"loading..."):this.state.error?s.a.createElement("div",null,this.state.error):0===this.state.tableNames.length?s.a.createElement("div",null,"No table found"):s.a.createElement(Se.a,{showSearch:!0,placeholder:"Select DynamoDB Table",style:{width:"100%"},value:this.state.table,onChange:function(t){return e.setState({table:t})},optionFilterProp:"children",filterOption:function(e,t){return t.props.children.toLowerCase().indexOf(e.toLowerCase())>=0}},this.state.tableNames.map((function(e){return s.a.createElement(Se.a.Option,{key:e,value:e},e)})))))),s.a.createElement(A.a,{loading:!1,className:"submit-button",onClick:Object(f.a)(h.a.mark((function t(){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.state.table){t.next=2;break}return t.abrupt("return",e.setState({resultMessage:"Table name is missing"}));case 2:if(e.state.awsProfile){t.next=4;break}return t.abrupt("return",e.setState({resultMessage:"AWS profile is missing"}));case 4:if(e.state.region){t.next=6;break}return t.abrupt("return",e.setState({resultMessage:"Region is missing"}));case 6:if(t.prev=6,"remote"!==e.state.connection){t.next=12;break}return t.next=10,R({source:"dynamodb",tableName:e.state.table,awsProfile:e.state.awsProfile,region:e.state.region});case 10:t.next=14;break;case 12:return t.next=14,R({source:"dynamodb",tableName:e.state.table,endpoint:e.state.endpoint,region:"local"});case 14:e.setState({resultMessage:"Service successfully added"}),t.next=20;break;case 17:t.prev=17,t.t0=t.catch(6),e.setState({resultMessage:t.t0.message});case 20:case"end":return t.stop()}}),t,null,[[6,17]])})))},"Add Service"),this.state.resultMessage&&s.a.createElement("div",{style:{padding:10}},this.state.resultMessage))}}]),t}(s.a.Component);a(348),a(349),a(350);var _e=a(137),Ge=a(138),Ue=(a(351),a(108)),Ve=a(107);function Je(e){var t=e.queryType,a=e.indexes,n=e.selectedIndex,r=e.onQueryTypeChange,o=e.onIndexChange;return s.a.createElement("div",{className:"query-form"},s.a.createElement("div",null,s.a.createElement(Ue.a.Group,{value:t,className:"scan-query-group",size:"small",onChange:function(e){return r(e.target.value)}},s.a.createElement(Ue.a.Button,{value:"scan"},"Scan"),s.a.createElement(Ue.a.Button,{value:"query"},"Query")),a.length?s.a.createElement(Ve.a,{className:"index-dropdown",overlay:s.a.createElement(Ge.a,null,a.map((function(e,t){return s.a.createElement(Ge.a.Item,{key:e.name,onClick:function(){return o(t)}},s.a.createElement("span",null,e.name))})))},s.a.createElement("span",{className:"index-dropdown"},a[n].name,s.a.createElement(m.a,{type:"down"}))):null),s.a.createElement("div",{className:"buymeacoffee"},s.a.createElement(u.a,{title:"Buy me a coffee?",placement:"bottomLeft"},s.a.createElement("a",{href:"https://www.buymeacoffee.com/y39DWQf"},s.a.createElement(m.a,{component:be})))))}a(352);var Ye=a(363),$e=["=","\u2260","<=","<",">=",">","Between","Exists","Not exists","Contains","Not contains","Begins with"],Xe={S:$e,B:$e,N:["=","\u2260","<=","<",">=",">","Between","Exists","Not exists"],BOOL:["=","\u2260","Exists","Not exists"],NULL:["Exists","Not exists"]},Ze={String:"S",Number:"N",Boolean:"BOOL",Null:"NULL",Binary:"B"},et={S:"String",N:"Number",BOOL:"Boolean",NULL:"Null",B:"Binary"};function tt(e){var t=e.queryFilters,a=e.columns,r=e.attributesSchema,o=e.searchButtonLabel,c=e.onFilterAdd,i=e.onFilterRemove,l=e.onChange,u=e.onEnter,d=e.onRef,h=Object(n.useRef)(null),f=function(){c(),setTimeout((function(){var e;return null===h||void 0===h?void 0:null===(e=h.current)||void 0===e?void 0:e.focus()}))};return s.a.createElement("div",{className:"query-filter"},t.map((function(e,n){var o=e.dataType?e.dataType:e.autoDetectedDataType;return s.a.createElement("div",{className:"query-filter-item",key:e.id},s.a.createElement(Ye.a,{ref:function(e){n===t.length-1&&(h.current=e),d(e)},style:{width:130,marginRight:5},disabled:e.keyCondition,dataSource:a.map((function(e){return e.key})).filter((function(t){return!e.fieldName||t.startsWith(e.fieldName)})),onChange:function(t){l(Object(p.a)({},e,{fieldName:t}))},value:e.fieldName,placeholder:"Field name"}),s.a.createElement(Ye.a,{style:{width:70,marginRight:5},className:"comparator-select",dataSource:Xe[null===r||void 0===r?void 0:r[null===e||void 0===e?void 0:e.fieldName]]||$e,value:e.comparison,disabled:e.comparisonLocked,onChange:function(t){return l(Object(p.a)({},e,{comparison:t}))}}),"Exists"!==e.comparison&&"Not exists"!==e.comparison&&"Between"!==e.comparison&&s.a.createElement(J.a,{style:{width:130,marginRight:5},placeholder:"Enter value",value:e.value,onChange:function(t){l(Object(p.a)({},e,{value:t.target.value}))},onPressEnter:u}),"Between"===e.comparison&&s.a.createElement(s.a.Fragment,null,s.a.createElement(J.a,{style:{width:60,marginRight:5},value:e.valueSecond,onChange:function(t){l(Object(p.a)({},e,{valueSecond:t.target.value}))},onPressEnter:u}),s.a.createElement("span",null,"and"),s.a.createElement(J.a,{style:{width:60,marginRight:5},value:e.valueSecond,onChange:function(t){l(Object(p.a)({},e,{valueSecond:t.target.value}))},onPressEnter:u})),s.a.createElement(Ye.a,{style:{width:70,marginRight:5},disabled:e.keyCondition,dataSource:Object.keys(Ze),onChange:function(t){l(Object(p.a)({},e,{dataType:Ze[t]}))},value:o?et[o]:"String"},s.a.createElement(J.a,{onPressEnter:u})),e.keyCondition||0===n&&!e.value&&!e.fieldName&&"="===e.comparison&&1===t.length?null:s.a.createElement(m.a,{type:"minus-circle",className:"item-remove item-add-remove",onClick:function(){i(e.id)}}))})),s.a.createElement("div",{className:"options-below-filters"},s.a.createElement("span",{className:"item-add-remove",onClick:f},s.a.createElement(m.a,{type:"plus-circle"})," Add field"),s.a.createElement(J.a,{style:{opacity:0,position:"absolute",pointerEvents:"none",width:0,height:0},onFocus:f})),s.a.createElement(A.a,{tabIndex:0,disabled:"Fetching..."===o,className:"search-button",type:"primary",size:"small",onClick:u},o))}function at(e){var t=e.currentColumns,a=e.indexHashRangeKeys,n=e.countPerColumn,s=e.widthPerColumn,r=e.hashKey,o=e.sortKey,i=Array.from(new Set([r,o].concat(Object(c.a)(a)).filter((function(e){return!!e})))),l=0===t.length?i:t.map((function(e){return e.key}));return Object.keys(n).sort((function(e,t){return void 0===n[e]||void 0===n[t]?0:n[t]-n[e]})).forEach((function(e){l.includes(e)||l.push(e)})),l.filter((function(e){return void 0!==n[e]})).map((function(e){var a=t.find((function(t){return t.key===e}));if(a)return a;var n=s[e]?Math.round(9.5*s[e]):0;return{key:e,dataKey:e,title:e,resizable:!0,sortable:!0,width:n<70?70:n>300?300:n}}))}function nt(e){var t=e.value,a=e.fieldName,n=e.attributesSchema;return(null===n||void 0===n?void 0:n[a])?null===n||void 0===n?void 0:n[a]:"false"===t||"true"===t?"BOOL":isNaN(t)?"S":"N"}var st,rt,ot,ct=function(e){return function(t,a){var n=null===e||void 0===e?void 0:e.key;return n?"string"===typeof t[n]&&"string"===typeof a[n]?"asc"===e.order?t[n].localeCompare(a[n]):a[n].localeCompare(t[n]):"asc"===e.order?t[n]-a[n]:a[n]-t[n]:0}};function it(e){return 0===e.length?[]:[].concat(Object(c.a)(e.map((function(e){var t=Object.keys(e.data).reduce((function(t,a){return Object(p.a)({},t,Object(re.a)({},a,"object"===typeof e.data[a]?JSON.stringify(e.data[a],null,2):e.data[a]))}),{});return Object(p.a)({},t,{_slsConsoleKey:e.id})}))),[{_slsConsoleKey:"loadMore"}])}var lt=(null===(st=navigator)||void 0===st?void 0:null===(rt=st.platform)||void 0===rt?void 0:null===(ot=rt.toUpperCase())||void 0===ot?void 0:ot.indexOf("MAC"))>=0,ut=function(e){function t(e){var a;return Object(g.a)(this,t),(a=Object(y.a)(this,Object(E.a)(t).call(this,e))).state={isFooterExpanded:!1,isLoading:!1,reloadInProgress:!1,indexes:[],selectedQueryType:"scan",selectedIndex:0,selectedQueryFilters:[{id:Math.random(),comparison:"="}],interrupted:!1,fetchedChanges:[],fetchedQueryFilters:[],fetchedIndex:0,fetchedQueryType:null,fetchedCount:0,fetchedScannedCount:0,fetchedTimestamp:0,fetchedLastEvaluatedKey:null,fetchedItems:[],fetchedItemsWithChanges:[],itemsStringified:[],columns:[],hiddenColumns:[],sortBy:{},selectedRows:[],frozenData:[],contextMenu:{top:0,left:0,slsConsoleKey:null},error:"",changeHoverRows:[],clipboard:{},tableName:"",attributesSchema:{},hashKey:"",sortKey:null},a.contextMenuRef=void 0,a._firstInputRef=void 0,a.onColumnSort=function(e){a.setState({itemsStringified:a.state.itemsStringified.sort(ct(e)),sortBy:e})},a.getRowClassName=function(e){var t,n=e.rowIndex,s="",r=e.rowData._slsConsoleKey;if("loadMore"===r)return"";var o,c=a.state.fetchedChanges.filter((function(e){return e.compositKey===r&&e.index===a.state.indexes[a.state.fetchedIndex].id&&e.queryType===a.state.fetchedQueryType})).sort((function(e,t){return"delete"===e.action?-1:"delete"===t.action?1:0})),i=c.length?c[0]:null;(null===(t=a.state.clipboard)||void 0===t?void 0:t.rowIndex)===n&&(s+=" clipboard-"+(null===(o=a.state.clipboard)||void 0===o?void 0:o.cellIndex));return a.state.selectedRows.includes(r)&&(s+=" selected-hover"),a.state.changeHoverRows.includes(r)&&(s+=" change-hover"),i&&"update"===i.action&&(s+=" updated-item"),i&&"delete"===i.action&&(s+=" deleted-item"),s},a.onSearch=Object(f.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.state.selectedQueryFilters.filter((function(e){return!(!e.fieldName&&void 0===e.value)})),e.next=3,new Promise((function(e){return a.setState({selectedQueryFilters:0===t.length?[{id:Math.random(),comparison:"="}]:t},e)}));case 3:return e.next=5,a.cleanResults();case 5:return e.next=7,a.fetchItems({filters:a.state.selectedQueryFilters,index:a.state.selectedIndex,queryType:a.state.selectedQueryType,lastFetchResult:null,lastEvaluatedKey:null});case 7:case"end":return e.stop()}}),e)}))),a.contextMenuRef=s.a.createRef(),a}return Object(b.a)(t,e),Object(v.a)(t,[{key:"componentDidMount",value:function(){var e=Object(f.a)(h.a.mark((function e(){var t,a,n=this;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e,t){var a=Math.random();C.postMessage({command:"describeTable",messageId:a,payload:{}}),x[a]=function(a){if(a.error)t(a.error);else{var n=a.descOutput.KeySchema.find((function(e){return"HASH"===e.KeyType})),s=a.descOutput.KeySchema.find((function(e){return"RANGE"===e.KeyType}));e({tableName:a.descOutput.TableName,hashKey:n.AttributeName,sortKey:s?s.AttributeName&&s.AttributeName:null,indexes:a.indexes.map((function(e){var t=e.id,n=e.keys,s=Object(i.a)(n,2),r=s[0],o=s[1],c="default"===t?"[Table] ".concat(a.descOutput.TableName):"[Index] ".concat(t);return{id:t,name:o?"".concat(c,": ").concat(r,", ").concat(o):"".concat(c,": ").concat(r),hashRangeKeys:n}})),attributesSchema:a.descOutput.AttributeDefinitions.reduce((function(e,t){return Object(p.a)({},e,Object(re.a)({},t.AttributeName,t.AttributeType))}),{})})}}}));case 2:return t=e.sent,this.setState({tableName:t.tableName,indexes:t.indexes,attributesSchema:t.attributesSchema,hashKey:t.hashKey,sortKey:t.sortKey,selectedIndex:0}),e.next=6,this.fetchItems({filters:this.state.selectedQueryFilters,index:0,queryType:"scan",lastFetchResult:null,lastEvaluatedKey:null});case 6:window.addEventListener("message",function(){var e=Object(f.a)(h.a.mark((function e(t){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"changesUpdated"===(null===t||void 0===t?void 0:null===(a=t.data)||void 0===a?void 0:a.type)&&n.fetchItems({filters:n.state.fetchedQueryFilters,onlyRefreshCurrentItems:!0,index:n.state.fetchedIndex,queryType:n.state.fetchedQueryType,lastEvaluatedKey:null,lastFetchResult:{Count:n.state.fetchedCount,Items:n.state.fetchedItems,LastEvaluatedKey:n.state.fetchedLastEvaluatedKey,ScannedCount:n.state.fetchedScannedCount,timeFetched:n.state.fetchedTimestamp}});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),a=lt?"command+f":"ctrl+f",Object(w.a)(a,(function(){var e;return null===(e=n._firstInputRef)||void 0===e||e.focus(),!1}));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(e,t){if(this.state.isFooterExpanded&&0!==t.fetchedChanges.length&&0===this.state.fetchedChanges.length&&this.setState({isFooterExpanded:!1,changeHoverRows:[]}),t.selectedIndex!==this.state.selectedIndex||t.selectedQueryType!==this.state.selectedQueryType){var a=this.state.indexes[this.state.selectedIndex],n=this.state.attributesSchema[a.hashRangeKeys[0]],s=this.state.attributesSchema[a.hashRangeKeys[1]];"query"===this.state.selectedQueryType?this.setState({selectedQueryFilters:[{id:Math.random(),fieldName:a.hashRangeKeys[0],comparison:"=",comparisonLocked:!0,keyCondition:!0,dataType:"L"===n||"M"===n?"B":n},a.hashRangeKeys[1]&&{id:Math.random(),fieldName:a.hashRangeKeys[1],comparison:"=",keyCondition:!0,dataType:"L"===s||"M"===s?"B":s}].filter((function(e){return void 0!==e}))}):this.setState({selectedQueryFilters:[{id:Math.random(),comparison:"="}]})}!1===this.state.interrupted&&!0===t.isLoading&&!1===this.state.isLoading&&0===this.state.fetchedItemsWithChanges.length&&this.state.fetchedLastEvaluatedKey&&this.fetchItems({filters:this.state.fetchedQueryFilters,index:this.state.fetchedIndex,queryType:this.state.fetchedQueryType,lastEvaluatedKey:this.state.fetchedLastEvaluatedKey,lastFetchResult:{Count:this.state.fetchedCount,Items:this.state.fetchedItems,LastEvaluatedKey:this.state.fetchedLastEvaluatedKey,ScannedCount:this.state.fetchedScannedCount,timeFetched:this.state.fetchedTimestamp}})}},{key:"cleanResults",value:function(){var e=Object(f.a)(h.a.mark((function e(){var t=this;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){return t.setState({isLoading:!1,fetchedQueryType:null,fetchedIndex:0,fetchedQueryFilters:[],fetchedLastEvaluatedKey:null,fetchedItems:[],fetchedTimestamp:0,fetchedCount:0,fetchedScannedCount:0,fetchedItemsWithChanges:[],error:"",contextMenu:{top:0,left:0,slsConsoleKey:null},frozenData:[],interrupted:!1,itemsStringified:[],columns:[],hiddenColumns:[],sortBy:{}},e)})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"fetchItems",value:function(){var e=Object(f.a)(h.a.mark((function e(t){var a,n,s,r,o,i,l,u,m,d,p;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.onlyRefreshCurrentItems,n=t.filters,s=t.index,r=t.queryType,o=t.lastFetchResult,i=t.lastEvaluatedKey,e.prev=1,!a||o){e.next=4;break}return e.abrupt("return",null);case 4:return this.setState({isLoading:!a}),l=this.state.indexes[s],e.next=8,qe({lastEvaluatedKey:i,queryType:r,filters:n,index:l.id,lastFetchResult:o,onlyRefreshCurrentItems:a});case 8:u=e.sent,m=at({currentColumns:this.state.columns,countPerColumn:u.countPerColumn,widthPerColumn:u.widthPerColumn,hashKey:this.state.hashKey,sortKey:this.state.sortKey,indexHashRangeKeys:l.hashRangeKeys}),d=s===this.state.fetchedIndex?this.state.sortBy:{},p=it(u.changedItems).sort(ct(d)),this.setState({fetchedQueryFilters:Object(c.a)(n),fetchedIndex:s,fetchedQueryType:r,fetchedCount:u.count,fetchedScannedCount:u.scannedCount,fetchedLastEvaluatedKey:u.lastEvaluatedKey,fetchedItems:u.items,fetchedItemsWithChanges:u.changedItems,fetchedTimestamp:u.timeFetched,fetchedChanges:u.changes,isLoading:!1,itemsStringified:p,sortBy:d,columns:m}),e.next=20;break;case 15:return e.prev=15,e.t0=e.catch(1),e.next=19,this.cleanResults();case 19:this.setState({error:e.t0});case 20:case"end":return e.stop()}}),e,this,[[1,15]])})));return function(t){return e.apply(this,arguments)}}()},{key:"copyToClipboard",value:function(e){var t=this,a=e.rowData,n=e.rowIndex,s=e.column,r=e.targetElement,o=this.state.itemsStringified.find((function(e){return e._slsConsoleKey===a._slsConsoleKey}))[s];if(void 0===a[s]||void 0===o)return!1;var c=this.state.columns.findIndex((function(e){return e.key===s}))+1,i=function(e){for(var t=0,a=0;e&&!isNaN(e.offsetLeft)&&!isNaN(e.offsetTop);)t+=e.offsetLeft-e.scrollLeft,a+=e.offsetTop-e.scrollTop,e=e.offsetParent;return{top:a,left:t}}(("gridcell"===r.getAttribute("role")?r:r.parentElement).children[0]),l=window.innerWidth-150;Q()(o),this.setState({clipboard:{rowIndex:n,cellIndex:c,top:i.top-22,left:i.left<0?0:i.left>l?l:i.left}}),setTimeout((function(){t.setState({clipboard:{}})}),500)}},{key:"render",value:function(){var e,t,a,n,r,o,i,l,d=this,g=this.state.selectedRows.length>1?"s":"";return s.a.createElement("div",{className:"dynamodb-page"},s.a.createElement("div",{className:"main-wrapper"},(null===(e=this.state.clipboard)||void 0===e?void 0:e.top)&&s.a.createElement("div",{className:"clipboard-info",style:{top:this.state.clipboard.top,left:this.state.clipboard.left}},s.a.createElement(m.a,{type:"copy"})," copied to clipboard"),null!==(null===(t=this.state.contextMenu)||void 0===t?void 0:t.slsConsoleKey)&&s.a.createElement("div",{ref:this.contextMenuRef,className:"context-menu",tabIndex:1,onBlur:function(){d.setState({contextMenu:{slsConsoleKey:null},selectedRows:[]})},style:{top:this.state.contextMenu.top,left:this.state.contextMenu.left}},s.a.createElement(Ge.a,{style:{width:135},mode:"inline"},s.a.createElement(Ge.a.Item,{key:"edit",onClick:function(){var e,t=d.state.contextMenu.slsConsoleKey,a=d.state.fetchedItemsWithChanges.find((function(e){return e.id===t})),n=d.state.fetchedItems.find((function(e){return e.id===t}));Be({queryType:d.state.fetchedQueryType,index:d.state.indexes[d.state.fetchedIndex].id,content:a.data,originalContent:n.data,columns:d.state.columns.map((function(e){return e.key})),hashKey:a.hashKey,sortKey:a.sortKey}),null===(e=d.contextMenuRef.current)||void 0===e||e.blur()}},s.a.createElement(m.a,{type:"edit"})," Edit"," ",s.a.createElement("span",{className:"shortcut"},"double click")),s.a.createElement(Ge.a.Item,{key:"duplicate",onClick:function(){var e,t=d.state.contextMenu.slsConsoleKey;Qe(d.state.fetchedItemsWithChanges.find((function(e){return e.id===t})).data),null===(e=d.contextMenuRef.current)||void 0===e||e.blur()}},s.a.createElement(m.a,{type:"file-add"})," Duplicate Row"),s.a.createElement(Ge.a.Item,{key:"delete",onClick:function(){var e,t=!0,a=!1,n=void 0;try{for(var s,r=function(){var e,t=s.value,a=d.state.fetchedItemsWithChanges.find((function(e){return e.id===t})),n=d.state.fetchedItems.find((function(e){return e.id===t}));e={queryType:d.state.fetchedQueryType,originalContent:n.data,index:a.index,hashKey:a.hashKey,sortKey:a.sortKey,tableName:d.state.tableName},C.postMessage({command:"deleteItem",payload:e})},o=d.state.selectedRows[Symbol.iterator]();!(t=(s=o.next()).done);t=!0)r()}catch(mt){a=!0,n=mt}finally{try{t||null==o.return||o.return()}finally{if(a)throw n}}null===(e=d.contextMenuRef.current)||void 0===e||e.blur()}},s.a.createElement(m.a,{type:"delete"})," Delete Item",g),s.a.createElement("hr",{style:{opacity:.3}}),(null===(a=this.state.contextMenu)||void 0===a?void 0:a.rowData[null===(n=this.state.contextMenu)||void 0===n?void 0:null===(r=n.column)||void 0===r?void 0:r.key])&&s.a.createElement(Ge.a.Item,{key:"Copy",onClick:function(){var e,t;d.copyToClipboard({rowData:d.state.contextMenu.rowData,rowIndex:d.state.contextMenu.rowIndex,targetElement:d.state.contextMenu.targetElement,column:null===(e=d.state.contextMenu.column)||void 0===e?void 0:e.key}),null===(t=d.contextMenuRef.current)||void 0===t||t.blur()}},s.a.createElement(m.a,{type:"copy"})," Copy Column"," ",s.a.createElement("span",{className:"shortcut"},lt?"Cmd":"Ctrl"," + Click")),s.a.createElement(Ge.a.Item,{key:"Copy-row",onClick:function(){var e,t=d.state.fetchedItemsWithChanges.find((function(e){return e.id===d.state.contextMenu.slsConsoleKey}));Q()(JSON.stringify(t.data,null,2)),null===(e=d.contextMenuRef.current)||void 0===e||e.blur()}},s.a.createElement(m.a,{type:"copy"})," Copy Row"),s.a.createElement("hr",{style:{opacity:.3}}),s.a.createElement(Ge.a.Item,{key:"pin",onClick:function(){var e,t=d.state.contextMenu.slsConsoleKey;d.state.frozenData.find((function(e){return e._slsConsoleKey===t}))?d.setState({frozenData:d.state.frozenData.filter((function(e){return e._slsConsoleKey!==t}))}):d.setState({frozenData:[].concat(Object(c.a)(d.state.frozenData),Object(c.a)(d.state.itemsStringified.filter((function(e){return!d.state.frozenData.map((function(e){return e._slsConsoleKey})).includes(e._slsConsoleKey)&&d.state.selectedRows.includes(e._slsConsoleKey)}))))}),null===(e=d.contextMenuRef.current)||void 0===e||e.blur()}},s.a.createElement(m.a,{type:"pushpin"})," ",this.state.frozenData.map((function(e){return e._slsConsoleKey})).includes(this.state.contextMenu.slsConsoleKey)?"Unpin Row":"Pin Row".concat(g)),this.state.fetchedChanges.find((function(e){return e.compositKey===d.state.contextMenu.slsConsoleKey&&e.index===d.state.indexes[d.state.fetchedIndex].id&&e.queryType===d.state.fetchedQueryType}))&&[s.a.createElement("hr",{style:{opacity:.3}}),1===this.state.selectedRows.length&&s.a.createElement(Ge.a.Item,{key:"open-change",onClick:Object(f.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(t=d.state.fetchedChanges.find((function(e){return e.compositKey===d.state.selectedRows[0]&&e.index===d.state.indexes[d.state.fetchedIndex].id&&e.queryType===d.state.fetchedQueryType})))&&ze(t.id);case 2:case"end":return e.stop()}}),e)})))},s.a.createElement(m.a,{type:"select"})," Open Change"),s.a.createElement(Ge.a.Item,{key:"discard-change",onClick:Object(f.a)(h.a.mark((function e(){var t,a,n,s,r,o;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=!0,a=!1,n=void 0,e.prev=3,s=h.a.mark((function e(){var t,a,n,s,r,c,i,l,u;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=o.value,n=d.state.fetchedChanges.filter((function(e){return e.compositKey===a&&e.index===d.state.indexes[d.state.fetchedIndex].id&&e.queryType===d.state.fetchedQueryType})),null===(t=d.contextMenuRef.current)||void 0===t||t.blur(),s=!0,r=!1,c=void 0,e.prev=6,i=n[Symbol.iterator]();case 8:if(s=(l=i.next()).done){e.next=15;break}return u=l.value,e.next=12,Ae(u.id);case 12:s=!0,e.next=8;break;case 15:e.next=21;break;case 17:e.prev=17,e.t0=e.catch(6),r=!0,c=e.t0;case 21:e.prev=21,e.prev=22,s||null==i.return||i.return();case 24:if(e.prev=24,!r){e.next=27;break}throw c;case 27:return e.finish(24);case 28:return e.finish(21);case 29:case"end":return e.stop()}}),e,null,[[6,17,21,29],[22,,24,28]])})),r=d.state.selectedRows[Symbol.iterator]();case 6:if(t=(o=r.next()).done){e.next=11;break}return e.delegateYield(s(),"t0",8);case 8:t=!0,e.next=6;break;case 11:e.next=17;break;case 13:e.prev=13,e.t1=e.catch(3),a=!0,n=e.t1;case 17:e.prev=17,e.prev=18,t||null==r.return||r.return();case 20:if(e.prev=20,!a){e.next=23;break}throw n;case 23:return e.finish(20);case 24:return e.finish(17);case 25:case"end":return e.stop()}}),e,null,[[3,13,17,25],[18,,20,24]])})))},s.a.createElement(m.a,{type:"close"})," Discard Change",g)])),s.a.createElement(Je,{queryType:this.state.selectedQueryType,indexes:this.state.indexes,selectedIndex:this.state.selectedIndex,onQueryTypeChange:function(e){d.setState({selectedQueryType:e})},onIndexChange:function(e){d.setState({selectedIndex:e})}}),s.a.createElement(tt,{attributesSchema:this.state.attributesSchema,queryFilters:this.state.selectedQueryFilters,columns:this.state.columns,onFilterAdd:function(){d.setState({selectedQueryFilters:[].concat(Object(c.a)(d.state.selectedQueryFilters),[{id:Math.random(),comparison:"="}])})},onFilterRemove:function(e){var t=d.state.selectedQueryFilters.filter((function(t){return t.id!==e}));d.setState({selectedQueryFilters:t.length?t:[{id:Math.random(),comparison:"="}]})},onRef:function(e){d._firstInputRef=e},searchButtonLabel:this.state.isLoading?"Fetching...":this.state.selectedQueryType===this.state.fetchedQueryType&&this.state.selectedIndex===this.state.fetchedIndex&&(o=this.state.selectedQueryFilters,i=this.state.fetchedQueryFilters,l=["fieldName","comparison","value","valueSecond"],(null===o||void 0===o?void 0:o.map((function(e){return l.reduce((function(t,a){return"".concat(t,"-").concat(e[a]||"")}),"")})).toString())===(null===i||void 0===i?void 0:i.map((function(e){return l.reduce((function(t,a){return"".concat(t,"-").concat(e[a]||"")}),"")})).toString()))?"Refresh":"Search",onEnter:this.onSearch,onChange:function(e){d.setState({selectedQueryFilters:d.state.selectedQueryFilters.map((function(t){return t.id===e.id?e.dataType?e:Object(p.a)({},e,{autoDetectedDataType:nt({value:e.value,fieldName:e.fieldName,attributesSchema:d.state.attributesSchema})}):t}))})}}),s.a.createElement("div",{className:"table-wrapper"},this.state.error?s.a.createElement("div",null,this.state.error):s.a.createElement(_e.a,null,(function(e){var t=e.width,a=e.height;return s.a.createElement(_e.b,{fixed:!0,frozenData:d.state.frozenData,data:d.state.itemsStringified,columns:[{width:22,flexShrink:0,resizable:!1,frozen:"left",key:"__selection__",headerRenderer:function(){return 0===d.state.fetchedItems.length?null:s.a.createElement(ce.a,{className:"header-checkbox",onChange:function(e){d.setState({selectedRows:e.target.checked?d.state.itemsStringified.map((function(e){return e._slsConsoleKey})):[]})}})},cellRenderer:function(e){var t=e.rowData;if(e.rowIndex<0)return s.a.createElement(u.a,{title:"Unpin row",placement:"right"},s.a.createElement(m.a,{style:{paddingLeft:2},type:"pushpin",onClick:function(){d.setState({frozenData:d.state.frozenData.filter((function(e){return e._slsConsoleKey!==t._slsConsoleKey}))})}}));var a=d.state.selectedRows.includes(t._slsConsoleKey);return s.a.createElement(ce.a,{checked:a,onChange:function(e){d.setState({selectedRows:e.target.checked?[].concat(Object(c.a)(d.state.selectedRows),[t._slsConsoleKey]):d.state.selectedRows.filter((function(e){return e!==t._slsConsoleKey}))})}})}}].concat(Object(c.a)(d.state.columns.filter((function(e){var t;return!(null===(t=d.state.hiddenColumns)||void 0===t?void 0:t.includes(e.key))})))),rowKey:"_slsConsoleKey",width:t,height:a,headerHeight:35,rowHeight:35,footerHeight:d.state.isFooterExpanded?240:40,sortBy:d.state.sortBy,onColumnSort:d.onColumnSort,rowClassName:d.getRowClassName,cellProps:function(e){var t=e.column,a=e.rowData,n=e.rowIndex;return{onDoubleClick:function(e){if("__selection__"===t.key)return null;var n=d.state.fetchedItemsWithChanges.find((function(e){return e.id===a._slsConsoleKey})),s=d.state.fetchedItems.find((function(e){return e.id===a._slsConsoleKey}));Be({queryType:d.state.fetchedQueryType,index:d.state.indexes[d.state.fetchedIndex].id,content:n.data,originalContent:s.data,selectColumn:t.dataKey,columns:d.state.columns.map((function(e){return e.key})),hashKey:n.hashKey,sortKey:n.sortKey})},onClick:function(e){if(!e.metaKey)return!1;d.copyToClipboard({rowData:a,rowIndex:n,targetElement:e.target,column:t.key})},onContextMenu:function(e){if(e.preventDefault(),"loadMore"!==a._slsConsoleKey){var s=window.innerWidth-140,r=window.innerHeight-180;d.setState({contextMenu:{slsConsoleKey:a._slsConsoleKey,top:e.pageY>r?r:e.pageY,left:e.pageX>s?s:e.pageX,rowData:a,rowIndex:n,column:t,targetElement:e.target},selectedRows:[].concat(Object(c.a)(d.state.selectedRows),[a._slsConsoleKey])},(function(){var e;null===(e=d.contextMenuRef.current)||void 0===e||e.focus()}))}}}},emptyRenderer:function(){return s.a.createElement("div",{className:"load-more"},s.a.createElement("span",{className:"fetched-message"},"Fetched ",d.state.fetchedCount," items (",d.state.fetchedScannedCount," scanned)"),d.state.isLoading&&s.a.createElement("span",{className:"loadmore"},"loading..."),!1===d.state.interrupted&&d.state.fetchedLastEvaluatedKey&&s.a.createElement("span",{className:"spanlink",onClick:function(){d.setState({interrupted:!0})}},"Stop"))},rowRenderer:function(e){var t=e.rowData,a=e.cells,n=e.columns;return"loadMore"===t._slsConsoleKey?1===n.length&&"__selection__"===n[0].key?null:s.a.createElement("div",{className:"load-more"},s.a.createElement("span",{className:"fetched-message"},"Fetched ",d.state.fetchedCount," items (",d.state.fetchedScannedCount," scanned)"),d.state.isLoading?s.a.createElement("span",{className:"loadmore"},"loading..."):d.state.fetchedLastEvaluatedKey&&s.a.createElement(s.a.Fragment,null,d.state.sortBy.key&&s.a.createElement("span",{className:"spanlink",onClick:function(){d.setState({itemsStringified:it(d.state.fetchedItemsWithChanges),sortBy:{}})}},"Remove Sort",s.a.createElement(u.a,{title:"If sorting is not removed, new items are merged with old ones, rather than appended at the end.",placement:"top"},s.a.createElement(m.a,{type:"info-circle"}))),s.a.createElement("span",{className:"spanlink",onClick:function(){d.fetchItems({filters:d.state.fetchedQueryFilters,index:d.state.fetchedIndex,queryType:d.state.fetchedQueryType,lastEvaluatedKey:d.state.fetchedLastEvaluatedKey,lastFetchResult:{Count:d.state.fetchedCount,Items:d.state.fetchedItems,LastEvaluatedKey:d.state.fetchedLastEvaluatedKey,ScannedCount:d.state.fetchedScannedCount,timeFetched:d.state.fetchedTimestamp}})}},"Load more"))):a},footerRenderer:s.a.createElement("div",{className:"footer"},d.state.isFooterExpanded&&s.a.createElement("div",{className:"log-table-wrapper"},s.a.createElement("div",{className:"table-wrapper"},s.a.createElement("table",{className:"log-table"},s.a.createElement("tbody",null,d.state.fetchedChanges.map((function(e,t){var a;return s.a.createElement("tr",{key:"".concat(e.id,"-").concat(t),className:"error"===e.status?"change-row error":"change-row",onMouseEnter:function(){d.setState({changeHoverRows:[e.compositKey]})},onMouseLeave:function(){d.setState({changeHoverRows:[]})},onClick:function(){ze(e.id)}},s.a.createElement("td",{className:"operation"},s.a.createElement("span",{className:e.action},"inProgress"===e.status?s.a.createElement(m.a,{type:"loading"}):s.a.createElement(m.a,{type:"update"===e.action?"edit":"create"===e.action?"plus-circle":"close-circle",className:"change-icon"}),"error"===e.status?"ERROR":null===(a=e.action)||void 0===a?void 0:a.toUpperCase())),s.a.createElement("td",{className:"timestamp"},s.a.createElement(H,{time:e.timestamp})),s.a.createElement("td",{className:"primary-key"},e.compositKey),s.a.createElement("td",{className:"icons"},s.a.createElement(u.a,{title:"Discard change",placement:"left"},s.a.createElement(m.a,{type:"close",onClick:function(t){Ae(e.id),t.stopPropagation()}}))))})))))),s.a.createElement("div",{className:"footer-wrapper"},s.a.createElement("div",{className:"footer-left"},s.a.createElement(m.a,{type:"plus-circle",onClick:function(){Qe()}}),s.a.createElement(m.a,{type:d.state.reloadInProgress?"loading":"sync",onClick:Object(f.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d.setState({fetchedCount:0,fetchedLastEvaluatedKey:null,fetchedScannedCount:0,fetchedItems:[],fetchedTimestamp:0,reloadInProgress:!0}),e.next=3,d.fetchItems({filters:d.state.fetchedQueryFilters,index:d.state.fetchedIndex,queryType:d.state.fetchedQueryType,lastFetchResult:null,lastEvaluatedKey:null});case 3:d.setState({reloadInProgress:!1});case 4:case"end":return e.stop()}}),e)})))}),s.a.createElement(m.a,{onClick:Object(f.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,He(d.state.columns.map((function(e){return{label:e.key,picked:!d.state.hiddenColumns.includes(e.key)}})));case 2:t=e.sent,d.setState({hiddenColumns:t.hiddenColumns});case 4:case"end":return e.stop()}}),e)}))),type:"setting"})),s.a.createElement("div",{className:"footer-right"},d.state.fetchedChanges.length?s.a.createElement("span",{className:"queue-message",onClick:function(){d.setState({isFooterExpanded:!d.state.isFooterExpanded})}},s.a.createElement("span",{className:"changes-num"},d.state.fetchedChanges.length),"staged changes",s.a.createElement(m.a,{type:d.state.isFooterExpanded?"down":"up"})):null,d.state.fetchedChanges.length?s.a.createElement(A.a,{disabled:-1!==d.state.fetchedChanges.findIndex((function(e){return"inProgress"===e.status})),type:"primary",size:"small",onClick:function(e){e.currentTarget.blur(),d.setState({isFooterExpanded:!0}),C.postMessage({command:"execute"})}},"Execute"):s.a.createElement(A.a,{type:"primary",size:"small",style:{opacity:.2,cursor:"default",pointerEvents:"none"}},"Execute"))))})})))))}}]),t}(s.a.Component);o.a.render("createService"===document.vscodeData.page?s.a.createElement((function(){var e=Object(n.useState)("logs"),t=Object(i.a)(e,2),a=t[0],r=t[1];return s.a.createElement("div",{className:"create-page-root"},s.a.createElement("div",{className:"button-box-wrapper"},s.a.createElement("div",{onClick:function(){return r("logs")},className:"button-box ".concat("logs"===a?"active":"")},s.a.createElement("span",null,"Logs")),s.a.createElement("div",{onClick:function(){return r("dynamodb")},className:"button-box ".concat("dynamodb"===a?"active":"")},s.a.createElement("span",null,"DynamoDB"))),s.a.createElement("div",null,"logs"===a&&s.a.createElement(Le,{awsProfile:"default",source:"serverless",cwd:"./",offset:0,print:"serverless print",region:"us-east-1",stages:["dev"],stacks:[{stage:"dev",stackName:null}],customLogs:{"0-default":[{stage:"dev",logGroup:null}]}}),"dynamodb"===a&&s.a.createElement(We,{awsProfile:"default",region:"us-east-1"})))}),null):"dynamoDb"===document.vscodeData.page?s.a.createElement(ut,null):s.a.createElement((function(){var e,t,a,r=Object(n.useState)([(null===(e=document.vscodeData.viewState)||void 0===e?void 0:e.page)||"logs"]),o=Object(i.a)(r,2),d=o[0],h=o[1],p=Object(n.useState)((null===(t=document.vscodeData.viewState)||void 0===t?void 0:t.page)||"logs"),f=Object(i.a)(p,2),g=f[0],v=f[1],y=Object(n.useState)((null===(a=document.vscodeData.viewState)||void 0===a?void 0:a.tab)||document.vscodeData.tabs[0].title),E=Object(i.a)(y,2),b=E[0],w=E[1],S=Object(n.useState)(document.vscodeData.autoRefreshInterval),k=Object(i.a)(S,2),C=k[0],x=k[1];return s.a.createElement("div",{className:"logs-page"},s.a.createElement("div",{className:"sidebar"},s.a.createElement("div",{className:"logs"===g?"sidebar-item active":"sidebar-item",onClick:function(){v("logs"),P({page:"logs",tab:b}),h(d.includes("logs")?d:[].concat(Object(c.a)(d),["logs"]))}},s.a.createElement(u.a,{placement:"right",title:"Last Logs",mouseEnterDelay:0,mouseLeaveDelay:0},s.a.createElement(m.a,{type:"unordered-list"}))),s.a.createElement("div",{className:"search"===g?"sidebar-item active":"sidebar-item",onClick:function(){v("search"),P({page:"search",tab:b}),h(d.includes("search")?d:[].concat(Object(c.a)(d),["search"]))}},s.a.createElement(u.a,{placement:"right",title:"Search Logs",mouseEnterDelay:0,mouseLeaveDelay:0},s.a.createElement(m.a,{type:"file-search"})))),s.a.createElement("div",{className:"main-wrapper"},s.a.createElement(l.a,{activeKey:b,animated:!1,onChange:function(e){w(e),P({page:g,tab:e})}},document.vscodeData.tabs.map((function(e){return s.a.createElement(we,{tab:e.title,key:e.title},d.includes("search")&&s.a.createElement("div",{style:{display:"search"===g?"block":"none"}},s.a.createElement(ge,{logGroupName:e.logs,region:e.region,awsProfile:e.awsProfile})),d.includes("logs")&&s.a.createElement("div",{style:{display:"logs"===g?"block":"none"}},s.a.createElement(se,{tab:e,isActive:"logs"===g&&b===e.title,autoRefreshInterval:C,onAutoRefreshChange:function(e){document.vscodeData.autoRefreshInterval=e,x(e)}})))})),s.a.createElement("div",{style:{position:"absolute",top:12,right:0}},s.a.createElement(u.a,{title:"Buy me a coffee?",placement:"bottomLeft"},s.a.createElement("a",{href:"https://www.buymeacoffee.com/y39DWQf"},s.a.createElement(m.a,{style:{width:19},component:be})))))))}),null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[188,1,2]]]);