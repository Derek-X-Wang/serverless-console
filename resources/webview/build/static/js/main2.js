(this["webpackJsonpreact-app"]=this["webpackJsonpreact-app"]||[]).push([[0],{352:function(e,t,a){"use strict";a.r(t);a(98),a(99);var n=a(0),r=a.n(n),s=a(34),o=a.n(s);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var c=a(12),i=a(9),l=a.n(i),m=a(22),u=a(16),p=a(17),g=a(19),d=a(18),h=a(20),f={postMessage:console.log};try{f=acquireVsCodeApi()}catch(B){}var v={};function k(e,t){return new Promise((function(a){var n=Math.random();f.postMessage({command:"getLogStreams",messageId:n,payload:{nextToken:t,logGroupName:e}}),v[n]=function(e){e.error?a({logStreams:[],error:e.error}):a({nextToken:e.nextToken,logStreams:e.logStreams,error:e.error})}}))}function y(e){return new Promise((function(t){var a=Math.random();f.postMessage({command:"getLogEvents",messageId:a,payload:{nextToken:e.nextToken,logGroup:e.logGroup,logStream:e.logStream}}),v[a]=function(e){t({nextBackwardToken:e.nextBackwardToken,nextForwardToken:e.nextForwardToken,logEvents:e.logEvents})}}))}window.addEventListener("message",(function(e){var t=e.data;v[t.messageId]&&(v[t.messageId](t.payload),delete v[t.messageId])}));var b=a(355),w=a(35),E=a.n(w),O=a(85),S=a(356),j=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(g.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={loaded:!1},a}return Object(h.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=this;setTimeout((function(){e.setState({loaded:!0})}),0)}},{key:"renderWithJson",value:function(e){var t=function(e){var t=e.match(/{[\s\S]*}/);if(t)try{var a=JSON.parse(t[0]),n=e.split(t[0]);return[n[0],JSON.stringify(a,null,2),n[1]]}catch(B){return!1}return!1}(e);return t?r.a.createElement("div",{className:"logevent-longmessage"},r.a.createElement("div",null,t[0]),r.a.createElement(S.a,{className:"syntax-highlighter",useInlineStyles:!1,language:"json",showLineNumbers:!0},t[1]),r.a.createElement("div",null,t[2])):r.a.createElement("div",{className:"logevent-longmessage"},e)}},{key:"render",value:function(){return this.state.loaded?this.renderWithJson(this.props.message):r.a.createElement("div",null,"loading")}}]),t}(r.a.Component);var x=function(e){function t(){return Object(u.a)(this,t),Object(g.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=this;setInterval((function(){return e.setState({interval:Date.now()})}),1e4)}},{key:"render",value:function(){return r.a.createElement("span",{className:this.props.className},E()(this.props.time).fromNow())}}]),t}(r.a.Component);function N(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var T=b.a.Panel,P=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(g.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={loaded:!1,messages:[]},a}return Object(h.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=Object(m.a)(l.a.mark((function e(){var t,a,n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y({logGroup:this.props.logGroup,logStream:this.props.logStream});case 2:t=e.sent,a=t.logEvents,n=t.nextBackwardToken,r=t.nextForwardToken,this.setState({loaded:!0,nextBackwardToken:n,nextForwardToken:r,messages:M(a.map((function(e,t){return{timestamp:e.timestamp,messageShort:e.message.slice(0,500),messageLong:e.message}})))});case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onRetryNew",value:function(){var e=Object(m.a)(l.a.mark((function e(){var t,a,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loadingNew:!0}),e.next=3,y({logGroup:this.props.logGroup,logStream:this.props.logStream,nextToken:this.state.nextForwardToken});case 3:t=e.sent,a=t.logEvents,n=t.nextForwardToken,this.setState({loadingNew:!1,messages:M([].concat(Object(c.a)(this.state.messages),Object(c.a)(a.map((function(e,t){return{timestamp:e.timestamp,messageShort:e.message.slice(0,500),messageLong:e.message}}))))),nextForwardToken:n});case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onRetryOld",value:function(){var e=Object(m.a)(l.a.mark((function e(){var t,a,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loadingOld:!0}),e.next=3,y({logGroup:this.props.logGroup,logStream:this.props.logStream,nextToken:this.state.nextBackwardToken});case 3:t=e.sent,a=t.logEvents,n=t.nextBackwardToken,this.setState({loadingOld:!1,messages:M([].concat(Object(c.a)(a.map((function(e,t){return{timestamp:e.timestamp,messageShort:e.message.slice(0,500),messageLong:e.message}}))),Object(c.a)(this.state.messages))),nextBackwardToken:n});case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return this.state.loaded?[r.a.createElement("div",{className:"retry-message retry-message-old",key:"retryold"},this.state.loadingOld?"loading older events...":r.a.createElement("span",null,"No older events found at the moment.",r.a.createElement("span",{className:"spanlink retry-link",onClick:this.onRetryOld.bind(this)},"Retry"))),r.a.createElement(b.a,{key:"collapse",bordered:!1},this.state.messages.map((function(e){var t=[];if(e.messageShort.startsWith("REPORT RequestId:")){var a=e.messageShort.match(/Duration: (.*?) ms/),n=e.messageShort.match(/Max Memory Used: (.*?) MB/),s=e.messageShort.match(/Init Duration: (.*?) ms/);s&&t.push("init: ".concat(s[1]," ms")),a&&t.push("".concat(a[1]," ms")),n&&t.push("".concat(n[1]," MB"))}return r.a.createElement(T,{key:e.key,header:r.a.createElement("div",{className:"logevent-header"},r.a.createElement(x,{className:"relative-time",time:e.timestamp}),r.a.createElement("span",{className:"abs-time"},E()(e.timestamp).format("lll")),r.a.createElement("span",{className:"logevent-shortmessage"},t.length?t.map((function(e){return r.a.createElement("span",{className:"event-tag"},e)})):e.messageShort))},r.a.createElement(j,{message:e.messageLong}))}))),r.a.createElement("div",{className:"retry-message retry-message-new",key:"retrynew"},this.state.loadingNew?"loading new events...":r.a.createElement("span",null,"No newer events found at the moment.",r.a.createElement("span",{className:"spanlink retry-link",onClick:this.onRetryNew.bind(this)},"Retry")))]:r.a.createElement("div",{className:"retry-message"},"loading new events...")}}]),t}(r.a.Component);function M(e){return e.map((function(e,t){return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?N(a,!0).forEach((function(t){Object(O.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):N(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},e,{key:"".concat(t,"-").concat(e.timestamp)})}))}var R=b.a.Panel,I=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(g.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={refreshInProgress:!1,lastRefreshed:0,logStreams:[],loaded:!1},a}return Object(h.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=Object(m.a)(l.a.mark((function e(){var t,a,n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k(this.props.tab.logs);case 2:t=e.sent,a=t.logStreams,n=t.nextToken,r=t.error,this.setState({error:r,loaded:!0,lastRefreshed:Date.now(),logStreams:a,nextToken:n});case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onLoadMore",value:function(){var e=Object(m.a)(l.a.mark((function e(){var t,a,n,r,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loadMoreInProgress:!0}),e.next=3,k(this.props.tab.logs,this.state.nextToken);case 3:t=e.sent,a=t.logStreams,n=t.nextToken,r=t.error,s=this.state.logStreams.filter((function(e){return!a.find((function(t){return t.arn===e.arn}))})),this.setState({error:r,loadMoreInProgress:!1,logStreams:[].concat(Object(c.a)(s),Object(c.a)(a)),nextToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onRefresh",value:function(){var e=Object(m.a)(l.a.mark((function e(){var t,a,n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({refreshInProgress:!0,lastRefreshed:Date.now()}),e.next=3,k(this.props.tab.logs);case 3:t=e.sent,a=t.logStreams,n=t.error,r=this.state.logStreams.filter((function(e){return!a.find((function(t){return t.arn===e.arn}))})),this.setState({error:n,refreshInProgress:!1,logStreams:[].concat(Object(c.a)(r),Object(c.a)(a))});case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",{className:"log-section"},r.a.createElement("header",null,r.a.createElement("h2",null,"Logs"," ",r.a.createElement("span",{className:"foreground-color small-message"},this.props.tab.logs)),this.state.refreshInProgress?"loading...":r.a.createElement("span",{className:"options"},r.a.createElement("span",{className:"spanlink",onClick:this.onRefresh.bind(this)},"Refresh"),0!==this.state.lastRefreshed&&r.a.createElement("div",{className:"last-refreshed"},"last updated ",r.a.createElement(x,{time:this.state.lastRefreshed})))),this.state.loaded?r.a.createElement("div",null,r.a.createElement(b.a,{className:"logstreamslist"},this.state.error?r.a.createElement("div",{className:"foreground-color"},this.state.error):this.state.logStreams.sort((function(e,t){return t.lastEventTimestamp-e.lastEventTimestamp})).map((function(e){return r.a.createElement(R,{header:r.a.createElement("div",{className:"logstream"},r.a.createElement(x,{className:"relative-time",time:e.lastEventTimestamp}),r.a.createElement("span",{className:"abs-time"},E()(e.lastEventTimestamp).format("lll"))),key:e.arn},r.a.createElement(P,{logGroup:"",logStream:e.logStreamName,onRetry:console.log}))}))),this.state.nextToken&&r.a.createElement("div",{className:" loadmore"},this.state.loadMoreInProgress?r.a.createElement("span",null,"loading..."):r.a.createElement("span",{className:"spanlink",onClick:this.onLoadMore.bind(this)},"Load more"))):r.a.createElement("div",null,"loading"))}}]),t}(r.a.Component),D=a(354),L=D.a.TabPane;o.a.render(r.a.createElement(D.a,{animated:!1},document.vscodeData.tabs.map((function(e){return r.a.createElement(L,{tab:e.title,key:e.title},r.a.createElement(I,{tab:e}))}))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},97:function(e,t,a){e.exports=a(352)},99:function(e,t,a){}},[[97,1,2]]]);