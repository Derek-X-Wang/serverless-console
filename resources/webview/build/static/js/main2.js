(this["webpackJsonpreact-app"]=this["webpackJsonpreact-app"]||[]).push([[0],{101:function(e,t,a){},106:function(e,t,a){},109:function(e,t,a){},348:function(e,t,a){},361:function(e,t,a){"use strict";a.r(t);a(100),a(101);var r=a(0),n=a.n(r),s=a(34),o=a.n(s);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(106);var i=a(363),l=a(46),c=a(17),m=a(9),u=a.n(m),p=a(22),d=a(11),h=a(12),g=a(15),v=a(13),f=a(16),b=a(364),y=a(35),k=a.n(y),E={postMessage:console.log};try{E=acquireVsCodeApi()}catch(A){}var w={};function O(e){return new Promise((function(t){var a=Math.random();E.postMessage({command:"getLambdaOverview",messageId:a,payload:{fnName:e}}),w[a]=function(e){e.error?t({overviewProps:{},error:e.error}):t({overviewProps:e})}}))}function j(e,t){return new Promise((function(a){var r=Math.random();E.postMessage({command:"getLogStreams",messageId:r,payload:{nextToken:t,logGroupName:e}}),w[r]=function(e){e.error?a({logStreams:[],error:e.error}):a({nextToken:e.nextToken,logStreams:e.logStreams})}}))}function S(e){return new Promise((function(t){var a=Math.random();E.postMessage({command:"getLogEvents",messageId:a,payload:{nextToken:e.nextToken,logGroup:e.logGroup,logStream:e.logStream}}),w[a]=function(e){t({nextBackwardToken:e.nextBackwardToken,nextForwardToken:e.nextForwardToken,logEvents:e.logEvents})}}))}window.addEventListener("message",(function(e){var t=e.data;w[t.messageId]&&(w[t.messageId](t.payload),delete w[t.messageId])}));a(109);var x=a(365),N=function(e){function t(){var e,a;Object(d.a)(this,t);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(a=Object(g.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(n)))).state={loaded:!1},a}return Object(f.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e=this;setTimeout((function(){e.setState({loaded:!0})}),0)}},{key:"renderWithJson",value:function(e){var t=function(e){var t=e.match(/{[\s\S]*}/);if(t)try{var a=JSON.parse(t[0]),r=e.split(t[0]);return[r[0],JSON.stringify(a,null,2),r[1]]}catch(A){return!1}return!1}(e);return t?n.a.createElement("div",{className:"logevent-longmessage"},n.a.createElement("div",null,t[0]),n.a.createElement(x.a,{className:"syntax-highlighter",useInlineStyles:!1,language:"json",showLineNumbers:!0},t[1]),n.a.createElement("div",null,t[2])):n.a.createElement("div",{className:"logevent-longmessage"},e)}},{key:"render",value:function(){return this.state.loaded?this.renderWithJson(this.props.message):n.a.createElement("div",null,"loading")}}]),t}(n.a.Component);var P=function(e){function t(){return Object(d.a)(this,t),Object(g.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e=this;setInterval((function(){return e.setState({interval:Date.now()})}),1e4)}},{key:"render",value:function(){return n.a.createElement("span",{className:this.props.className},k()(this.props.time).fromNow())}}]),t}(n.a.Component);function T(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}var M=b.a.Panel,B=function(e){function t(){var e,a;Object(d.a)(this,t);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(a=Object(g.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(n)))).state={loaded:!1,messages:[]},a}return Object(f.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e=Object(p.a)(u.a.mark((function e(){var t,a,r,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S({logGroup:this.props.logGroup,logStream:this.props.logStream});case 2:t=e.sent,a=t.logEvents,r=t.nextBackwardToken,n=t.nextForwardToken,this.setState({loaded:!0,nextBackwardToken:r,nextForwardToken:n,messages:I(a.map((function(e,t){return{timestamp:e.timestamp,messageShort:e.message.slice(0,500),messageLong:e.message}})))});case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onRetryNew",value:function(){var e=Object(p.a)(u.a.mark((function e(){var t,a,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loadingNew:!0}),e.next=3,S({logGroup:this.props.logGroup,logStream:this.props.logStream,nextToken:this.state.nextForwardToken});case 3:t=e.sent,a=t.logEvents,r=t.nextForwardToken,this.setState({loadingNew:!1,messages:I([].concat(Object(c.a)(this.state.messages),Object(c.a)(a.map((function(e,t){return{timestamp:e.timestamp,messageShort:e.message.slice(0,500),messageLong:e.message}}))))),nextForwardToken:r});case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onRetryOld",value:function(){var e=Object(p.a)(u.a.mark((function e(){var t,a,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loadingOld:!0}),e.next=3,S({logGroup:this.props.logGroup,logStream:this.props.logStream,nextToken:this.state.nextBackwardToken});case 3:t=e.sent,a=t.logEvents,r=t.nextBackwardToken,this.setState({loadingOld:!1,messages:I([].concat(Object(c.a)(a.map((function(e,t){return{timestamp:e.timestamp,messageShort:e.message.slice(0,500),messageLong:e.message}}))),Object(c.a)(this.state.messages))),nextBackwardToken:r});case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return this.state.loaded?[n.a.createElement("div",{className:"retry-message retry-message-old",key:"retryold"},this.state.loadingOld?"loading older events...":n.a.createElement("span",null,"No older events found at the moment.",n.a.createElement("span",{className:"spanlink retry-link",onClick:this.onRetryOld.bind(this)},"Retry"))),n.a.createElement(b.a,{key:"collapse",bordered:!1},this.state.messages.map((function(e){var t=[];if(e.messageShort.startsWith("REPORT RequestId:")){var a=e.messageShort.match(/Duration: (.*?) ms/),r=e.messageShort.match(/Max Memory Used: (.*?) MB/),s=e.messageShort.match(/Init Duration: (.*?) ms/);s&&t.push("init: ".concat(s[1]," ms")),a&&t.push("".concat(a[1]," ms")),r&&t.push("".concat(r[1]," MB"))}return n.a.createElement(M,{key:e.key,header:n.a.createElement("div",{className:"logevent-header"},n.a.createElement(P,{className:"relative-time",time:e.timestamp}),n.a.createElement("span",{className:"abs-time"},k()(e.timestamp).format("lll")),n.a.createElement("span",{className:"logevent-shortmessage"},t.length?t.map((function(e){return n.a.createElement("span",{className:"event-tag"},e)})):e.messageShort))},n.a.createElement(N,{message:e.messageLong}))}))),n.a.createElement("div",{className:"retry-message retry-message-new",key:"retrynew"},this.state.loadingNew?"loading new events...":n.a.createElement("span",null,"No newer events found at the moment.",n.a.createElement("span",{className:"spanlink retry-link",onClick:this.onRetryNew.bind(this)},"Retry")))]:n.a.createElement("div",{className:"retry-message"},"loading new events...")}}]),t}(n.a.Component);function I(e){return e.map((function(e,t){return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?T(a,!0).forEach((function(t){Object(l.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):T(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},e,{key:"".concat(t,"-").concat(e.timestamp)})}))}var D=b.a.Panel,L=function(e){function t(){return Object(d.a)(this,t),Object(g.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this;return n.a.createElement("div",{className:"log-section"},n.a.createElement("header",null,n.a.createElement("h2",null,"Logs")),this.props.loaded?n.a.createElement("div",null,n.a.createElement(b.a,{className:"logstreamslist"},this.props.error?n.a.createElement("div",{className:"foreground-color"},this.props.error):this.props.logStreams.sort((function(e,t){return t.sortByTimestamp-e.sortByTimestamp})).map((function(t){return n.a.createElement(D,{header:n.a.createElement("div",{className:"logstream"},n.a.createElement(P,{className:"relative-time",time:t.sortByTimestamp}),n.a.createElement("span",{className:"abs-time"},k()(t.sortByTimestamp).format("lll"))),key:t.arn},n.a.createElement(B,{logGroup:e.props.tab.logs,logStream:t.logStreamName}))}))),this.props.nextToken&&n.a.createElement("div",{className:" loadmore"},this.props.loadMoreInProgress?n.a.createElement("span",null,"loading..."):n.a.createElement("span",{className:"spanlink",onClick:this.props.onLoadMore},"Load more"))):n.a.createElement("div",null,"loading"))}}]),t}(n.a.Component),R=(a(348),a(367)),C=R.a.Item;function G(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n.a.createElement("div",{className:"overview-section"},n.a.createElement("h2",null,"Overview"),n.a.createElement(R.a,{size:"small",className:"overview-content"},n.a.createElement(C,{label:"Name"},n.a.createElement(F,{value:e.name,type:"string"})),n.a.createElement(C,{label:"Last Modified"},n.a.createElement(F,{value:e.lastModified,type:"relativeTime"})),n.a.createElement(C,{label:"Runtime"},n.a.createElement(F,{value:e.runtime,type:"string"})),n.a.createElement(C,{label:"Timeout"},n.a.createElement(F,{value:e.timeout,type:"seconds"})),n.a.createElement(C,{label:"Memory Size"},n.a.createElement(F,{value:e.memorySize,type:"megabytes"})),n.a.createElement(C,{label:"Code Size"},n.a.createElement(F,{value:e.codeSize,type:"bytes"}))))}function F(e){var t=e.value,a=e.type;if(!t)return n.a.createElement("span",null,"...");switch(a){case"string":return n.a.createElement("span",null,t);case"bytes":return n.a.createElement("span",null,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(0===e)return"0 Bytes";var a=t<0?0:t,r=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,r)).toFixed(a))+" "+["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"][r]}(parseInt(t)));case"relativeTime":return n.a.createElement(P,{time:t});case"seconds":return n.a.createElement("span",null,t," seconds");case"megabytes":return n.a.createElement("span",null,t," MB")}}function z(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}var J=function(e){function t(){var e,a;Object(d.a)(this,t);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(a=Object(g.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(n)))).state={refreshInProgres:!1,loadMoreInProgress:!1,loaded:!1,error:"",currentToken:"",nextToken:"",logStreams:[],lastRefreshed:Date.now(),overviewProps:{lastModified:null,memorySize:null,runtime:null,timeout:null,codeSize:null}},a}return Object(f.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e=Object(p.a)(u.a.mark((function e(){var t,a,r,n,s,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j(this.props.tab.logs);case 2:if(t=e.sent,a=t.logStreams,r=t.nextToken,n=t.error,s={},!this.props.tab.lambda){e.next=12;break}return e.next=10,O(this.props.tab.lambda);case 10:o=e.sent,s=o.overviewProps;case 12:this.setState({error:n,loaded:!0,logStreams:a,overviewProps:s,nextToken:r});case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onRefresh",value:function(){var e=Object(p.a)(u.a.mark((function e(){var t,a,r,n,s,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({refreshInProgres:!0}),e.next=3,j(this.props.tab.logs);case 3:if(t=e.sent,a=t.logStreams,r=t.error,n=this.state.logStreams.filter((function(e){return!a.find((function(t){return t.arn===e.arn}))})),s={},!this.props.tab.lambda){e.next=13;break}return e.next=11,O(this.props.tab.lambda);case 11:o=e.sent,s=o.overviewProps;case 13:this.setState({error:r,logStreams:[].concat(Object(c.a)(n),Object(c.a)(a)),refreshInProgres:!1,overviewProps:s,lastRefreshed:Date.now()});case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onLoadMore",value:function(){var e=Object(p.a)(u.a.mark((function e(){var t,a,r,n,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loadMoreInProgress:!0}),e.next=3,j(this.props.tab.logs,this.state.nextToken);case 3:t=e.sent,a=t.logStreams,r=t.nextToken,n=t.error,s=this.state.logStreams.filter((function(e){return!a.find((function(t){return t.arn===e.arn}))})),this.setState({error:n,loadMoreInProgress:!1,logStreams:[].concat(Object(c.a)(s),Object(c.a)(a)),nextToken:r});case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return n.a.createElement("div",null,this.state.refreshInProgres?n.a.createElement("div",{className:"refresh-option"},"loading..."):n.a.createElement("div",{className:"refresh-option"},n.a.createElement("span",{className:"spanlink",onClick:this.onRefresh.bind(this)},"Refresh"),n.a.createElement("div",{className:"last-refreshed"},"last updated ",n.a.createElement(P,{time:this.state.lastRefreshed}))),this.props.tab.lambda&&n.a.createElement(G,function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?z(a,!0).forEach((function(t){Object(l.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):z(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},this.state.overviewProps,{name:this.props.tab.lambda})),n.a.createElement(L,{tab:this.props.tab,loaded:this.state.loaded,error:this.state.error,logStreams:this.state.logStreams,nextToken:this.state.nextToken,loadMoreInProgress:this.state.loadMoreInProgress,onLoadMore:this.onLoadMore.bind(this)}))}}]),t}(n.a.Component),W=i.a.TabPane;o.a.render(n.a.createElement((function(){return n.a.createElement(i.a,{animated:!1},document.vscodeData.tabs.map((function(e){return n.a.createElement(W,{tab:e.title,key:e.title},n.a.createElement(J,{tab:e}))})))}),null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},99:function(e,t,a){e.exports=a(361)}},[[99,1,2]]]);